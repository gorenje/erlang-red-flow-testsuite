[{"id":"cef9dd7dc179b8b3","type":"tab","label":"[filter] value differ by topic","disabled":false,"info":"","env":[{"name":"ERED_TIMEOUT","value":"7","type":"num"}]},{"id":"75818bd0a3229826","type":"group","z":"cef9dd7dc179b8b3","name":"topic value unset on the message","style":{"label":true},"nodes":["37f452396b5d81b8","df328aa947cdf1eb","a64e278f84059abb","07b29065828b6d20","d4f325c93f60624e","b578f9c433b66525","3e473813a33740dd","2a58147bfab51885","0c73ec6736259028"],"x":151.857177734375,"y":215.28570556640625,"w":1311,"h":346.21429443359375},{"id":"25c6145943e1c3ed","type":"group","z":"cef9dd7dc179b8b3","name":"topic set to one of four values","style":{"label":true},"nodes":["e79ff1b7b88cd20f","98727f3059e351d4","5577502eb8253fe8","89746fac1ecc369c","bb62bb7a628e4ade","b06fb3a43f35f033","ccf318e67abfc822","385b9cbd6534623b","f50534c3488aa0fd","cd8d204d0cb0220b","b819bafaf7464f34","a467286b01a24549","2488094f8b4c6cc2","b58bff122849c7cd","8c1ffaef9e04d329","32a7f381aaca759b","2c8d57b5f73c97b2","caa6a282f65a1eba"],"x":149.00006103515625,"y":625,"w":2235.9999389648438,"h":530},{"id":"5d381015bab9d629","type":"group","z":"cef9dd7dc179b8b3","name":"topic is one of a 1000 topics","style":{"label":true},"nodes":["af9eb5e602cca97e","813d5576ce2386b8","18de3e9a97c5d71e","feb8e185bf282a24","928926f3621c4575","055a32785077a34e","53d52459d5de7ae7","6de2e42a3b04a014","40d91b3cb3ae572b","3d57d60c50a8dc04","c3c5ab06decf10ff","7f20f026871695cf","ed80888b817c4e45","aed826f9e267df50","2fface8192de0666","146de4fbbd83cb95","1c70415dae9d4875","9477314a9541875e"],"x":159.28564453125,"y":1248.446403503418,"w":2255.9999389648438,"h":530},{"id":"37f452396b5d81b8","type":"rbe","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"","func":"rbe","gap":"10%","start":"","inout":"out","septopics":true,"property":"payload","topi":"topic","x":932.857177734375,"y":475.91070556640625,"wires":[["d4f325c93f60624e","3e473813a33740dd","2a58147bfab51885"]]},{"id":"df328aa947cdf1eb","type":"inject","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"","props":[{"p":"counter","v":"0","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":247.857177734375,"y":475.91070556640625,"wires":[["a64e278f84059abb"]]},{"id":"a64e278f84059abb","type":"change","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"10","tot":"num"},{"t":"set","p":"counter","pt":"msg","to":"$$.counter + 1","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":513.857177734375,"y":475.91070556640625,"wires":[["07b29065828b6d20","37f452396b5d81b8","0c73ec6736259028"]]},{"id":"07b29065828b6d20","type":"switch","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"limit to 10_000 messages","property":"counter","propertyType":"msg","rules":[{"t":"lt","v":"10000","vt":"num"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":513.857177734375,"y":256.28570556640625,"wires":[["a64e278f84059abb"],["b578f9c433b66525"]]},{"id":"d4f325c93f60624e","type":"ut-assert-success","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"","count":"2","x":1356.857177734375,"y":475.91070556640625,"wires":[]},{"id":"b578f9c433b66525","type":"change","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"11","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":752.8571853637695,"y":362.89290618896484,"wires":[["37f452396b5d81b8"]]},{"id":"3e473813a33740dd","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"10","tot":"num"}],"x":1163.857177734375,"y":362.89290618896484,"wires":[[]]},{"id":"2a58147bfab51885","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"11","tot":"num"}],"x":1265.357177734375,"y":419.40180587768555,"wires":[[]]},{"id":"e79ff1b7b88cd20f","type":"rbe","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"","func":"rbe","gap":"10%","start":"","inout":"out","septopics":true,"property":"payload","topi":"topic","x":1730.0000610351562,"y":887.9821853637695,"wires":[["bb62bb7a628e4ade","ccf318e67abfc822","385b9cbd6534623b","cd8d204d0cb0220b","a467286b01a24549","b58bff122849c7cd","b819bafaf7464f34","2488094f8b4c6cc2","8c1ffaef9e04d329"]]},{"id":"98727f3059e351d4","type":"inject","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"","props":[{"p":"counter","v":"0","vt":"num"},{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"10","payloadType":"num","x":245.00006103515625,"y":887.9821853637695,"wires":[["5577502eb8253fe8"]]},{"id":"5577502eb8253fe8","type":"change","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"","rules":[{"t":"set","p":"counter","pt":"msg","to":"$$.counter + 1","tot":"jsonata"},{"t":"set","p":"toplookup","pt":"msg","to":"[\"one\",\"two\",\"three\",\"four\"]","tot":"json"},{"t":"set","p":"topic","pt":"msg","to":"$$.toplookup[$$.counter % 4]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":511.00006103515625,"y":887.9821853637695,"wires":[["89746fac1ecc369c","e79ff1b7b88cd20f","f50534c3488aa0fd"]]},{"id":"89746fac1ecc369c","type":"switch","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"limit to 10_000 messages","property":"counter","propertyType":"msg","rules":[{"t":"lt","v":"10000","vt":"num"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":511.00006103515625,"y":672.6608047485352,"wires":[["5577502eb8253fe8"],["b06fb3a43f35f033"]]},{"id":"bb62bb7a628e4ade","type":"ut-assert-success","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"","count":"8","x":2279,"y":887.9821853637695,"wires":[]},{"id":"b06fb3a43f35f033","type":"change","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"update payload and reset counter","rules":[{"t":"set","p":"payload","pt":"msg","to":"11","tot":"num"},{"t":"set","p":"counter","pt":"msg","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":885.0000610351562,"y":672.6608047485352,"wires":[["32a7f381aaca759b"]]},{"id":"ccf318e67abfc822","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"topic: one payload: 10","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"10","tot":"num"},{"t":"eql","p":"topic","pt":"msg","to":"one","tot":"str"}],"x":1958,"y":666,"wires":[[]]},{"id":"385b9cbd6534623b","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"topic: one payload: 11","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"11","tot":"num"},{"t":"eql","p":"topic","pt":"msg","to":"one","tot":"str"}],"x":2073,"y":928,"wires":[[]]},{"id":"f50534c3488aa0fd","type":"ut-assert-success","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"","count":"10000","x":815,"y":931,"wires":[]},{"id":"0c73ec6736259028","type":"ut-assert-success","z":"cef9dd7dc179b8b3","g":"75818bd0a3229826","name":"","count":"10000","x":748,"y":520.5,"wires":[]},{"id":"cd8d204d0cb0220b","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"topic: two payload: 10","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"10","tot":"num"},{"t":"eql","p":"topic","pt":"msg","to":"two","tot":"str"}],"x":1958,"y":728,"wires":[[]]},{"id":"b819bafaf7464f34","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"topic: two payload: 11","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"11","tot":"num"},{"t":"eql","p":"topic","pt":"msg","to":"two","tot":"str"}],"x":2073,"y":990,"wires":[[]]},{"id":"a467286b01a24549","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"topic: three payload: 10","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"10","tot":"num"},{"t":"eql","p":"topic","pt":"msg","to":"three","tot":"str"}],"x":1968,"y":790,"wires":[[]]},{"id":"2488094f8b4c6cc2","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"topic: three payload: 11","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"11","tot":"num"},{"t":"eql","p":"topic","pt":"msg","to":"three","tot":"str"}],"x":2083,"y":1052,"wires":[[]]},{"id":"b58bff122849c7cd","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"topic: four payload: 10","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"10","tot":"num"},{"t":"eql","p":"topic","pt":"msg","to":"four","tot":"str"}],"x":1958,"y":852,"wires":[[]]},{"id":"8c1ffaef9e04d329","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"topic: four payload: 11","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"11","tot":"num"},{"t":"eql","p":"topic","pt":"msg","to":"four","tot":"str"}],"x":2073,"y":1114,"wires":[[]]},{"id":"32a7f381aaca759b","type":"change","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"","rules":[{"t":"set","p":"counter","pt":"msg","to":"$$.counter + 1","tot":"jsonata"},{"t":"set","p":"toplookup","pt":"msg","to":"[\"one\",\"two\",\"three\",\"four\"]","tot":"json"},{"t":"set","p":"topic","pt":"msg","to":"$$.toplookup[$$.counter % 4]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1242,"y":672.6608047485352,"wires":[["2c8d57b5f73c97b2","caa6a282f65a1eba"]]},{"id":"2c8d57b5f73c97b2","type":"switch","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"limit to 10_000 messages","property":"counter","propertyType":"msg","rules":[{"t":"lt","v":"10000","vt":"num"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":1263,"y":845.875,"wires":[["32a7f381aaca759b","e79ff1b7b88cd20f"],[]]},{"id":"caa6a282f65a1eba","type":"ut-assert-success","z":"cef9dd7dc179b8b3","g":"25c6145943e1c3ed","name":"","count":"10000","x":1577,"y":672.6608047485352,"wires":[]},{"id":"af9eb5e602cca97e","type":"rbe","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"","func":"rbe","gap":"10%","start":"","inout":"out","septopics":true,"property":"fubar","topi":"snafu","x":1740.28564453125,"y":1511.4285888671875,"wires":[["928926f3621c4575","53d52459d5de7ae7","6de2e42a3b04a014","3d57d60c50a8dc04","7f20f026871695cf","aed826f9e267df50","c3c5ab06decf10ff","ed80888b817c4e45","2fface8192de0666"]]},{"id":"813d5576ce2386b8","type":"inject","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"","props":[{"p":"counter","v":"0","vt":"num"},{"p":"fubar","v":"10","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":255.28564453125,"y":1511.4285888671875,"wires":[["18de3e9a97c5d71e"]]},{"id":"18de3e9a97c5d71e","type":"change","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"","rules":[{"t":"set","p":"counter","pt":"msg","to":"$$.counter + 1","tot":"jsonata"},{"t":"set","p":"snafu","pt":"msg","to":"$$.counter % 1000","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":521.28564453125,"y":1511.4285888671875,"wires":[["feb8e185bf282a24","af9eb5e602cca97e","40d91b3cb3ae572b"]]},{"id":"feb8e185bf282a24","type":"switch","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"limit to 10_000 messages","property":"counter","propertyType":"msg","rules":[{"t":"lt","v":"10000","vt":"num"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":521.28564453125,"y":1296.1072082519531,"wires":[["18de3e9a97c5d71e"],["055a32785077a34e"]]},{"id":"928926f3621c4575","type":"ut-assert-success","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"","count":"2000","x":2299.2855834960938,"y":1511.4285888671875,"wires":[]},{"id":"055a32785077a34e","type":"change","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"update payload and reset counter","rules":[{"t":"set","p":"fubar","pt":"msg","to":"11","tot":"num"},{"t":"set","p":"counter","pt":"msg","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":895.28564453125,"y":1296.1072082519531,"wires":[["146de4fbbd83cb95"]]},{"id":"53d52459d5de7ae7","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"fubar: 10","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"fubar","pt":"msg","to":"10","tot":"num"},{"t":"eql","p":"snafu","pt":"msg","to":"1","tot":"num"}],"x":1928.2855834960938,"y":1289.446403503418,"wires":[[]]},{"id":"6de2e42a3b04a014","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"fubar: 11","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"fubar","pt":"msg","to":"11","tot":"num"},{"t":"eql","p":"snafu","pt":"msg","to":"345","tot":"num"}],"x":2043.2855834960938,"y":1551.446403503418,"wires":[[]]},{"id":"40d91b3cb3ae572b","type":"ut-assert-success","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"","count":"10000","x":825.2855834960938,"y":1554.446403503418,"wires":[]},{"id":"3d57d60c50a8dc04","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"fubar: 10","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"fubar","pt":"msg","to":"10","tot":"num"},{"t":"eql","p":"snafu","pt":"msg","to":"233","tot":"num"}],"x":1928.2855834960938,"y":1351.446403503418,"wires":[[]]},{"id":"c3c5ab06decf10ff","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"fubar: 11","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"fubar","pt":"msg","to":"11","tot":"num"},{"t":"eql","p":"snafu","pt":"msg","to":"321","tot":"num"}],"x":2043.2855834960938,"y":1613.446403503418,"wires":[[]]},{"id":"7f20f026871695cf","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"fubar: 10","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"fubar","pt":"msg","to":"10","tot":"num"},{"t":"eql","p":"snafu","pt":"msg","to":"345","tot":"num"}],"x":1928.2855834960938,"y":1413.446403503418,"wires":[[]]},{"id":"ed80888b817c4e45","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"fubar: 11","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"fubar","pt":"msg","to":"11","tot":"num"},{"t":"eql","p":"snafu","pt":"msg","to":"997","tot":"num"}],"x":2043.2855834960938,"y":1675.446403503418,"wires":[[]]},{"id":"aed826f9e267df50","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"fubar: 10","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"fubar","pt":"msg","to":"10","tot":"num"},{"t":"eql","p":"snafu","pt":"msg","to":"777","tot":"num"}],"x":1928.2855834960938,"y":1475.446403503418,"wires":[[]]},{"id":"2fface8192de0666","type":"ut-assert-values","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"fubar: 11","ignore_failure_if_succeed":true,"rules":[{"t":"eql","p":"fubar","pt":"msg","to":"11","tot":"num"},{"t":"eql","p":"snafu","pt":"msg","to":"111","tot":"num"}],"x":2043.2855834960938,"y":1737.446403503418,"wires":[[]]},{"id":"146de4fbbd83cb95","type":"change","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"","rules":[{"t":"set","p":"counter","pt":"msg","to":"$$.counter + 1","tot":"jsonata"},{"t":"set","p":"snafu","pt":"msg","to":"$$.counter % 1000","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1252.2855834960938,"y":1296.1072082519531,"wires":[["1c70415dae9d4875","9477314a9541875e"]]},{"id":"1c70415dae9d4875","type":"switch","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"limit to 10_000 messages","property":"counter","propertyType":"msg","rules":[{"t":"lt","v":"10000","vt":"num"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":1273.2855834960938,"y":1469.321403503418,"wires":[["146de4fbbd83cb95","af9eb5e602cca97e"],[]]},{"id":"9477314a9541875e","type":"ut-assert-success","z":"cef9dd7dc179b8b3","g":"5d381015bab9d629","name":"","count":"10000","x":1587.2855834960938,"y":1296.1072082519531,"wires":[]}]