[{"id":"678153b1daa0529a","type":"tab","label":"[function] divide by zero throws kills node","disabled":false,"info":"## Function node and exceptions\n\nWhat happens if the function node raises an exception?\n\nThere are three cases to be considered:\n\n- <a class=\"ahl-group-only\" data-ids=\"b7e1e4d9d98ef1bb\">function node is under supervision</a>,\n- <a class=\"ahl-group-only\" data-ids=\"7ed7a1dc7f44409a\">function node is being caught</a> and\n- <a class=\"ahl-group-only\" data-ids=\"5bd563066938c2f3\">function node is neither</a>.\n\nThis is also the case for a <a class=\"ahl-group-only\" data-ids=\"e49cae74aca6e4aa\">time out exception</a> - if the function takes too long and there is a timeout set, then an exception is raised.\n","env":[{"name":"ERED_NOT_EUNIT","value":"true","type":"bool"},{"name":"ERED_TIMEOUT","value":"5","type":"num"}]},{"id":"b7e1e4d9d98ef1bb","type":"group","z":"678153b1daa0529a","g":"7d829222d2ef7ab2","name":"no exception is raised if function is being supervised","style":{"label":true},"nodes":["e1926e702f82036d","0b270a75f19fe296","a7e6e47b5451fe98","f70d171602a22ea0","056c5807789fdd9f","a3c2a780a47683fa","25f64d67311491f0"],"x":199,"y":190,"w":919,"h":220.25},{"id":"5bd563066938c2f3","type":"group","z":"678153b1daa0529a","g":"7d829222d2ef7ab2","name":"exception posted to the debug panel if exception not caught and function node not being supervised","style":{"label":true},"nodes":["2acfd9b89aa5a4f0","c2dc81f0f379b496","0610dfd55a620cd5","d36a8aa22bce4662"],"x":194,"y":731,"w":880,"h":204},{"id":"7ed7a1dc7f44409a","type":"group","z":"678153b1daa0529a","g":"7d829222d2ef7ab2","name":"if exception is caught, no debug message and the catch node handles it","style":{"label":true},"nodes":["1064a20a70a4d159","cbbdca5f81537d51","94f0dace67bcab25","714c969b3b036080","a7747cea4a1b7ac5","c35fef31f0dec2c7"],"x":196,"y":447,"w":859,"h":241},{"id":"b2f1aafe54bf14d6","type":"group","z":"678153b1daa0529a","g":"e49cae74aca6e4aa","name":"no exception is raised if function is being supervised","style":{"label":true},"nodes":["8c0d2959be4c8449","7c60e8efbf36cfb2","2bad596c31c9614c","478f54839df11249","5210bb11cbfd8184","637da1e5ea2fa8d2","8e15d37d50603cbe"],"x":193.66665649414062,"y":1036,"w":919,"h":220.25},{"id":"ae831a2255a48b68","type":"group","z":"678153b1daa0529a","g":"e49cae74aca6e4aa","name":"exception posted to the debug panel if exception not caught and function node not being supervised","style":{"label":true},"nodes":["e6bad32c2babea2d","43921beebe749863","247105e3e1174886","576520af1b49706d"],"x":197.66665649414062,"y":1539,"w":880,"h":204},{"id":"3e2cbb65dff9baec","type":"group","z":"678153b1daa0529a","g":"e49cae74aca6e4aa","name":"if exception is caught, no debug message and the catch node handles it","style":{"label":true},"nodes":["98af67622beba548","96a1bf65b0361c8d","6fd4f21bd30c0756","798d290779817374","0e5f5779ab066e4c","b20ed504160e56a2"],"x":195.66665649414062,"y":1276,"w":859,"h":241},{"id":"e49cae74aca6e4aa","type":"group","z":"678153b1daa0529a","name":"time out exception","style":{"label":true},"nodes":["b2f1aafe54bf14d6","ae831a2255a48b68","3e2cbb65dff9baec"],"x":167.66665649414062,"y":1010,"w":971,"h":759},{"id":"7d829222d2ef7ab2","type":"group","z":"678153b1daa0529a","name":"divide by zero exception","style":{"label":true},"nodes":["b7e1e4d9d98ef1bb","5bd563066938c2f3","7ed7a1dc7f44409a"],"x":168,"y":164,"w":976,"h":797},{"id":"e1926e702f82036d","type":"inject","z":"678153b1daa0529a","g":"b7e1e4d9d98ef1bb","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":305,"y":363,"wires":[["0b270a75f19fe296"]]},{"id":"0b270a75f19fe296","type":"function","z":"678153b1daa0529a","g":"b7e1e4d9d98ef1bb","name":"divide by zero causes an exception","func":"\n1 / 0","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":566,"y":368.25,"wires":[["f70d171602a22ea0"]]},{"id":"a7e6e47b5451fe98","type":"catch","z":"678153b1daa0529a","g":"b7e1e4d9d98ef1bb","name":"","scope":["0b270a75f19fe296"],"uncaught":false,"x":518,"y":239,"wires":[["a3c2a780a47683fa"]]},{"id":"f70d171602a22ea0","type":"ut-assert-failure","z":"678153b1daa0529a","g":"b7e1e4d9d98ef1bb","name":"","x":990,"y":369.25,"wires":[]},{"id":"056c5807789fdd9f","type":"erlsupervisor","z":"678153b1daa0529a","g":"b7e1e4d9d98ef1bb","name":"","scope":["0b270a75f19fe296"],"supervisor_type":"static","strategy":"one_for_one","auto_shutdown":"never","intensity":"1","period":"5","child_type":"worker","child_restart":"permanent","child_shutdown":"brutal_kill","child_shutdown_timeout":"0","x":327,"y":241.5,"wires":[[]]},{"id":"2acfd9b89aa5a4f0","type":"inject","z":"678153b1daa0529a","g":"5bd563066938c2f3","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":300,"y":772,"wires":[["c2dc81f0f379b496"]]},{"id":"c2dc81f0f379b496","type":"function","z":"678153b1daa0529a","g":"5bd563066938c2f3","name":"divide by zero causes an exception","func":"1 / 0","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":598,"y":831.25,"wires":[["0610dfd55a620cd5"]]},{"id":"0610dfd55a620cd5","type":"ut-assert-failure","z":"678153b1daa0529a","g":"5bd563066938c2f3","name":"","x":978,"y":828.25,"wires":[]},{"id":"d36a8aa22bce4662","type":"ut-assert-debug","z":"678153b1daa0529a","g":"5bd563066938c2f3","name":"","nodeid":"c2dc81f0f379b496","msgtype":"error","inverse":false,"x":664,"y":894,"wires":[]},{"id":"a3c2a780a47683fa","type":"ut-assert-failure","z":"678153b1daa0529a","g":"b7e1e4d9d98ef1bb","name":"","x":827,"y":307,"wires":[]},{"id":"1064a20a70a4d159","type":"inject","z":"678153b1daa0529a","g":"7ed7a1dc7f44409a","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":302,"y":569,"wires":[["cbbdca5f81537d51"]]},{"id":"cbbdca5f81537d51","type":"function","z":"678153b1daa0529a","g":"7ed7a1dc7f44409a","name":"divide by zero causes an exception","func":"1 / 0","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":562,"y":569.25,"wires":[["94f0dace67bcab25"]]},{"id":"94f0dace67bcab25","type":"ut-assert-failure","z":"678153b1daa0529a","g":"7ed7a1dc7f44409a","name":"","x":890,"y":570.25,"wires":[]},{"id":"714c969b3b036080","type":"ut-assert-debug","z":"678153b1daa0529a","g":"7ed7a1dc7f44409a","name":"","nodeid":"cbbdca5f81537d51","msgtype":"error","inverse":true,"x":819,"y":647,"wires":[]},{"id":"a7747cea4a1b7ac5","type":"catch","z":"678153b1daa0529a","g":"7ed7a1dc7f44409a","name":"","scope":["cbbdca5f81537d51"],"uncaught":false,"x":515,"y":499,"wires":[["c35fef31f0dec2c7"]]},{"id":"c35fef31f0dec2c7","type":"ut-assert-success","z":"678153b1daa0529a","g":"7ed7a1dc7f44409a","name":"","x":940,"y":488,"wires":[]},{"id":"25f64d67311491f0","type":"ut-assert-debug","z":"678153b1daa0529a","g":"b7e1e4d9d98ef1bb","name":"","nodeid":"0b270a75f19fe296","msgtype":"error","inverse":true,"x":882,"y":231,"wires":[]},{"id":"8c0d2959be4c8449","type":"inject","z":"678153b1daa0529a","g":"b2f1aafe54bf14d6","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":299.6666564941406,"y":1209,"wires":[["7c60e8efbf36cfb2"]]},{"id":"7c60e8efbf36cfb2","type":"function","z":"678153b1daa0529a","g":"b2f1aafe54bf14d6","name":"divide by zero causes an exception","func":"\ntimer:sleep(5_000)","outputs":1,"timeout":"1","noerr":0,"initialize":"","finalize":"","libs":[],"x":560.6666564941406,"y":1214.25,"wires":[["478f54839df11249"]]},{"id":"2bad596c31c9614c","type":"catch","z":"678153b1daa0529a","g":"b2f1aafe54bf14d6","name":"","scope":["7c60e8efbf36cfb2"],"uncaught":false,"x":512.6666564941406,"y":1085,"wires":[["637da1e5ea2fa8d2"]]},{"id":"478f54839df11249","type":"ut-assert-failure","z":"678153b1daa0529a","g":"b2f1aafe54bf14d6","name":"","x":984.6666564941406,"y":1215.25,"wires":[]},{"id":"5210bb11cbfd8184","type":"erlsupervisor","z":"678153b1daa0529a","g":"b2f1aafe54bf14d6","name":"","scope":["7c60e8efbf36cfb2"],"supervisor_type":"static","strategy":"one_for_one","auto_shutdown":"never","intensity":"1","period":"5","child_type":"worker","child_restart":"permanent","child_shutdown":"brutal_kill","child_shutdown_timeout":"0","x":321.6666564941406,"y":1087.5,"wires":[[]]},{"id":"637da1e5ea2fa8d2","type":"ut-assert-failure","z":"678153b1daa0529a","g":"b2f1aafe54bf14d6","name":"","x":821.6666564941406,"y":1153,"wires":[]},{"id":"8e15d37d50603cbe","type":"ut-assert-debug","z":"678153b1daa0529a","g":"b2f1aafe54bf14d6","name":"","nodeid":"7c60e8efbf36cfb2","msgtype":"error","inverse":true,"x":876.6666564941406,"y":1077,"wires":[]},{"id":"e6bad32c2babea2d","type":"inject","z":"678153b1daa0529a","g":"ae831a2255a48b68","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":303.6666564941406,"y":1580,"wires":[["43921beebe749863"]]},{"id":"43921beebe749863","type":"function","z":"678153b1daa0529a","g":"ae831a2255a48b68","name":"divide by zero causes an exception","func":"timer:sleep(5_000)","outputs":1,"timeout":"1","noerr":0,"initialize":"","finalize":"","libs":[],"x":601.6666564941406,"y":1639.25,"wires":[["247105e3e1174886"]]},{"id":"247105e3e1174886","type":"ut-assert-failure","z":"678153b1daa0529a","g":"ae831a2255a48b68","name":"","x":981.6666564941406,"y":1636.25,"wires":[]},{"id":"576520af1b49706d","type":"ut-assert-debug","z":"678153b1daa0529a","g":"ae831a2255a48b68","name":"","nodeid":"43921beebe749863","msgtype":"error","inverse":false,"x":667.6666564941406,"y":1702,"wires":[]},{"id":"98af67622beba548","type":"inject","z":"678153b1daa0529a","g":"3e2cbb65dff9baec","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":301.6666564941406,"y":1398,"wires":[["96a1bf65b0361c8d"]]},{"id":"96a1bf65b0361c8d","type":"function","z":"678153b1daa0529a","g":"3e2cbb65dff9baec","name":"divide by zero causes an exception","func":"timer:sleep(5_000)","outputs":1,"timeout":"1","noerr":0,"initialize":"","finalize":"","libs":[],"x":561.6666564941406,"y":1398.25,"wires":[["6fd4f21bd30c0756"]]},{"id":"6fd4f21bd30c0756","type":"ut-assert-failure","z":"678153b1daa0529a","g":"3e2cbb65dff9baec","name":"","x":889.6666564941406,"y":1399.25,"wires":[]},{"id":"798d290779817374","type":"ut-assert-debug","z":"678153b1daa0529a","g":"3e2cbb65dff9baec","name":"","nodeid":"96a1bf65b0361c8d","msgtype":"error","inverse":true,"x":818.6666564941406,"y":1476,"wires":[]},{"id":"0e5f5779ab066e4c","type":"catch","z":"678153b1daa0529a","g":"3e2cbb65dff9baec","name":"","scope":["96a1bf65b0361c8d"],"uncaught":false,"x":514.6666564941406,"y":1328,"wires":[["b20ed504160e56a2"]]},{"id":"b20ed504160e56a2","type":"ut-assert-success","z":"678153b1daa0529a","g":"3e2cbb65dff9baec","name":"","x":939.6666564941406,"y":1317,"wires":[]}]