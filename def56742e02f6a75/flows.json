[{"id":"def56742e02f6a75","type":"tab","label":"[switch] property is not defined on msg object","disabled":false,"info":"## Undefined attributes\n\nWhat happens if a switch performs a test on an attribute that is not defined on the message object.\n\nWhat comes clear is that a propery that does not exist on the message is handled the same way as if the value of the property was \"null\".\n\nThe \"is null\" rule always matches when the property is missing.\n\nImportant is that the switch node is not in error if the property isn't set on the message.\n\nThe otherwise not matching on the and then matching is [correct behaviour](https://discourse.nodered.org/t/switch-node-check-all-mode-and-otherwise-why-does-otherwise-not-match/96794).\n\n\"Otherwise\" is matches once and only once.\n\nRelated [test flow](https://flows.red-erik.org/f/ce2f98273da05245).","env":[]},{"id":"aaf4a290f82b48c3","type":"group","z":"def56742e02f6a75","name":"otherwise and is null match if otherwise before null","style":{"label":true},"nodes":["a966efc49565289e","76939fd3cb00165c","22eca82c7d5339f7","a27d81dfeabc78eb","8ea1471e6481a198","d2b10b413459f085","d03bbd4445364339","0cdb02fa597caf08","816b60ee67186075","f00ac5cb007b061d","0257954810eebd57"],"x":1072.571533203125,"y":1156.4285373687744,"w":803.4284820556641,"h":527.5714626312256},{"id":"fe58cafeacd9ed83","type":"group","z":"def56742e02f6a75","name":"only otherwise matches if stop after first match is active","style":{"label":true},"nodes":["b38fdf92b3361cac","d4ca60cd00c389a0","354c38bfc7c67914","fc0e02e16c8218a6","2c1d7c945021a7b6","eb04cd1b32542d0f","20ae4ef79147074d","0279a72085874251","028b9598f068e708","78940afa9a89eede","a3b5370cdb4e6896"],"x":1076.8572998046875,"y":594.0001018524171,"w":792,"h":523.9998981475829},{"id":"c52f093127a7f684","type":"group","z":"def56742e02f6a75","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["168503dd8cc489c7","ba7c1f77d67dc2eb","ef0286e7b99f7d0f","5e7fcd55d347b8e6","9d310e771db04a12"],"x":211,"y":163,"w":787.8571929931641,"h":200},{"id":"a3b9e0843ededb5a","type":"group","z":"def56742e02f6a75","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["b6646c317ee52775","f82f6faf0df5a46a","8efbd47b2cc8c844","f462d155a5ab1eb3","79b610c83a176b51"],"x":213.85711669921875,"y":397.7142639160156,"w":787.8571929931641,"h":200},{"id":"c612345a84a6625a","type":"group","z":"def56742e02f6a75","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["140a56ffc16902c3","8e6f33ccf241cf00","323c2de1534ef39e","408b6fe73a9e92ad","928a511c038a23bf","da44ffb1d769556b","cffc776645fdd73d","eea6a328a24dbeee","8b829ab083ba3181"],"x":211,"y":690.857225227356,"w":787.8571929931641,"h":430.1429443359376},{"id":"5108180cdb0425c9","type":"group","z":"def56742e02f6a75","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["1f4aaec4b251758e","06dd1e67e76f02e1","b2fefd8065823c34","feea17e82714bb84","27e4e51095ebd6ba","43f232106b8ae0a5","8950a0c3d2fe2f1d","24e27956ecd033dd","1d827194ef32703f"],"x":212.4285125732422,"y":1157.142822265625,"w":786.4286804199219,"h":443.85719108581543},{"id":"168503dd8cc489c7","type":"inject","z":"def56742e02f6a75","g":"c52f093127a7f684","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":317,"y":263,"wires":[["ba7c1f77d67dc2eb"]]},{"id":"ba7c1f77d67dc2eb","type":"switch","z":"def56742e02f6a75","g":"c52f093127a7f684","name":"check all","property":"action","propertyType":"msg","rules":[{"t":"eq","v":"one","vt":"str"},{"t":"eq","v":"two","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":3,"x":616,"y":263,"wires":[["5e7fcd55d347b8e6"],["9d310e771db04a12"],["ef0286e7b99f7d0f"]]},{"id":"ef0286e7b99f7d0f","type":"ut-assert-success","z":"def56742e02f6a75","g":"c52f093127a7f684","name":"","x":902.8571929931641,"y":322,"wires":[]},{"id":"5e7fcd55d347b8e6","type":"ut-assert-failure","z":"def56742e02f6a75","g":"c52f093127a7f684","name":"","x":902.8571929931641,"y":204,"wires":[]},{"id":"9d310e771db04a12","type":"ut-assert-failure","z":"def56742e02f6a75","g":"c52f093127a7f684","name":"","x":902.8571929931641,"y":263,"wires":[]},{"id":"b6646c317ee52775","type":"inject","z":"def56742e02f6a75","g":"a3b9e0843ededb5a","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":319.85711669921875,"y":497.7142639160156,"wires":[["f82f6faf0df5a46a"]]},{"id":"f82f6faf0df5a46a","type":"switch","z":"def56742e02f6a75","g":"a3b9e0843ededb5a","name":"stop after first","property":"action","propertyType":"msg","rules":[{"t":"eq","v":"one","vt":"str"},{"t":"eq","v":"two","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":3,"x":638.8571166992188,"y":497.7142639160156,"wires":[["f462d155a5ab1eb3"],["79b610c83a176b51"],["8efbd47b2cc8c844"]]},{"id":"8efbd47b2cc8c844","type":"ut-assert-success","z":"def56742e02f6a75","g":"a3b9e0843ededb5a","name":"","x":905.7143096923828,"y":556.7142639160156,"wires":[]},{"id":"f462d155a5ab1eb3","type":"ut-assert-failure","z":"def56742e02f6a75","g":"a3b9e0843ededb5a","name":"","x":905.7143096923828,"y":438.7142639160156,"wires":[]},{"id":"79b610c83a176b51","type":"ut-assert-failure","z":"def56742e02f6a75","g":"a3b9e0843ededb5a","name":"","x":905.7143096923828,"y":497.7142639160156,"wires":[]},{"id":"140a56ffc16902c3","type":"inject","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":317,"y":913,"wires":[["8e6f33ccf241cf00"]]},{"id":"8e6f33ccf241cf00","type":"switch","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"stop after first","property":"action","propertyType":"msg","rules":[{"t":"eq","v":"one","vt":"str"},{"t":"eq","v":"two","vt":"str"},{"t":"eq","v":"","vt":"str"},{"t":"null"},{"t":"empty"},{"t":"false"},{"t":"else"}],"checkall":"false","repair":false,"outputs":7,"x":636,"y":913,"wires":[["323c2de1534ef39e"],["408b6fe73a9e92ad"],["928a511c038a23bf"],["eea6a328a24dbeee"],["da44ffb1d769556b"],["cffc776645fdd73d"],["8b829ab083ba3181"]]},{"id":"323c2de1534ef39e","type":"ut-assert-failure","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"","x":902.8571929931641,"y":731.857225227356,"wires":[]},{"id":"408b6fe73a9e92ad","type":"ut-assert-failure","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"","x":902.8571929931641,"y":792.257225227356,"wires":[]},{"id":"928a511c038a23bf","type":"ut-assert-failure","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"","x":902.8571929931641,"y":852.657225227356,"wires":[]},{"id":"da44ffb1d769556b","type":"ut-assert-failure","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"","x":902.8571929931641,"y":973.4572252273559,"wires":[]},{"id":"cffc776645fdd73d","type":"ut-assert-failure","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"","x":902.8571929931641,"y":1033.8572252273561,"wires":[]},{"id":"eea6a328a24dbeee","type":"ut-assert-success","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"","x":902.8571929931641,"y":913,"wires":[]},{"id":"1f4aaec4b251758e","type":"inject","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":318.4285125732422,"y":1375,"wires":[["06dd1e67e76f02e1"]]},{"id":"06dd1e67e76f02e1","type":"switch","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"check all","property":"action","propertyType":"msg","rules":[{"t":"eq","v":"one","vt":"str"},{"t":"eq","v":"two","vt":"str"},{"t":"eq","v":"","vt":"str"},{"t":"null"},{"t":"empty"},{"t":"false"},{"t":"else"}],"checkall":"true","repair":false,"outputs":7,"x":616,"y":1375,"wires":[["b2fefd8065823c34"],["feea17e82714bb84"],["27e4e51095ebd6ba"],["24e27956ecd033dd"],["43f232106b8ae0a5"],["8950a0c3d2fe2f1d"],["1d827194ef32703f"]]},{"id":"b2fefd8065823c34","type":"ut-assert-failure","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"","x":902.8571929931641,"y":1198.142822265625,"wires":[]},{"id":"feea17e82714bb84","type":"ut-assert-failure","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"","x":902.8571929931641,"y":1258.542822265625,"wires":[]},{"id":"27e4e51095ebd6ba","type":"ut-assert-failure","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"","x":902.8571929931641,"y":1318.9428222656252,"wires":[]},{"id":"43f232106b8ae0a5","type":"ut-assert-failure","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"","x":902.8571929931641,"y":1439.7428222656254,"wires":[]},{"id":"8950a0c3d2fe2f1d","type":"ut-assert-failure","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"","x":902.8571929931641,"y":1500.142822265625,"wires":[]},{"id":"24e27956ecd033dd","type":"ut-assert-success","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"","x":902.8571929931641,"y":1375,"wires":[]},{"id":"8b829ab083ba3181","type":"ut-assert-failure","z":"def56742e02f6a75","g":"c612345a84a6625a","name":"","x":902.8571929931641,"y":1080.0001695632936,"wires":[]},{"id":"1d827194ef32703f","type":"ut-assert-failure","z":"def56742e02f6a75","g":"5108180cdb0425c9","name":"","x":902.8571929931641,"y":1560.0000133514404,"wires":[]},{"id":"a966efc49565289e","type":"inject","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1178.571533203125,"y":1392.857177734375,"wires":[["76939fd3cb00165c"]]},{"id":"76939fd3cb00165c","type":"switch","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"check all","property":"action","propertyType":"msg","rules":[{"t":"eq","v":"one","vt":"str"},{"t":"eq","v":"two","vt":"str"},{"t":"eq","v":"","vt":"str"},{"t":"else"},{"t":"null"},{"t":"empty"},{"t":"false"},{"t":"else"},{"t":"null"}],"checkall":"true","repair":false,"outputs":9,"x":1476.1430206298828,"y":1392.857177734375,"wires":[["22eca82c7d5339f7"],["a27d81dfeabc78eb"],["8ea1471e6481a198"],["0cdb02fa597caf08"],["f00ac5cb007b061d"],["d2b10b413459f085"],["d03bbd4445364339"],["816b60ee67186075"],["0257954810eebd57"]]},{"id":"22eca82c7d5339f7","type":"ut-assert-failure","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1778.714485168457,"y":1197.4285373687744,"wires":[]},{"id":"a27d81dfeabc78eb","type":"ut-assert-failure","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1778.714485168457,"y":1257.8285373687745,"wires":[]},{"id":"8ea1471e6481a198","type":"ut-assert-failure","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1778.714485168457,"y":1318.2285373687746,"wires":[]},{"id":"d2b10b413459f085","type":"ut-assert-failure","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1778.7144622802734,"y":1471.8857494354252,"wires":[]},{"id":"d03bbd4445364339","type":"ut-assert-failure","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1778.7144622802734,"y":1532.2857494354248,"wires":[]},{"id":"0cdb02fa597caf08","type":"ut-assert-success","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1778.714500427246,"y":1368.571376800537,"wires":[]},{"id":"816b60ee67186075","type":"ut-assert-failure","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1778.7144622802734,"y":1592.1429405212402,"wires":[]},{"id":"f00ac5cb007b061d","type":"ut-assert-success","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1780.000015258789,"y":1421.4286937713623,"wires":[]},{"id":"b38fdf92b3361cac","type":"inject","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1182.8572998046875,"y":840.4285888671875,"wires":[["d4ca60cd00c389a0"]]},{"id":"d4ca60cd00c389a0","type":"switch","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"stop after first","property":"action","propertyType":"msg","rules":[{"t":"eq","v":"one","vt":"str"},{"t":"eq","v":"two","vt":"str"},{"t":"eq","v":"","vt":"str"},{"t":"else"},{"t":"null"},{"t":"empty"},{"t":"false"},{"t":"else"},{"t":"null"}],"checkall":"false","repair":false,"outputs":9,"x":1501.8572998046875,"y":840.4285888671875,"wires":[["354c38bfc7c67914"],["fc0e02e16c8218a6"],["2c1d7c945021a7b6"],["028b9598f068e708"],["78940afa9a89eede"],["eb04cd1b32542d0f"],["20ae4ef79147074d"],["0279a72085874251"],["a3b5370cdb4e6896"]]},{"id":"354c38bfc7c67914","type":"ut-assert-failure","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1770.1431732177734,"y":635.0001018524171,"wires":[]},{"id":"fc0e02e16c8218a6","type":"ut-assert-failure","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1770.1431732177734,"y":695.400101852417,"wires":[]},{"id":"2c1d7c945021a7b6","type":"ut-assert-failure","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1770.1431732177734,"y":755.8001018524169,"wires":[]},{"id":"eb04cd1b32542d0f","type":"ut-assert-failure","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1768.7144927978516,"y":920.8858140945435,"wires":[]},{"id":"20ae4ef79147074d","type":"ut-assert-failure","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1768.7144927978516,"y":981.2858140945436,"wires":[]},{"id":"0279a72085874251","type":"ut-assert-failure","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1768.7144927978516,"y":1027.4287584304811,"wires":[]},{"id":"028b9598f068e708","type":"ut-assert-success","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1772.8572998046875,"y":811.857177734375,"wires":[]},{"id":"78940afa9a89eede","type":"ut-assert-failure","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1771.4287109375,"y":867.5714721679688,"wires":[]},{"id":"a3b5370cdb4e6896","type":"ut-assert-failure","z":"def56742e02f6a75","g":"fe58cafeacd9ed83","name":"","x":1768,"y":1077,"wires":[]},{"id":"0257954810eebd57","type":"ut-assert-success","z":"def56742e02f6a75","g":"aaf4a290f82b48c3","name":"","x":1779,"y":1643,"wires":[]}]