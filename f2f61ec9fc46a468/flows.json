[{"disabled":false,"env":[{"name":"ERED_PENDING","type":"bool","value":"false"},{"name":"ERED_TIMEOUT","type":"num","value":"7"}],"id":"f2f61ec9fc46a468","info":"## Function timeout support\n\nNon-negative timeout values in seconds.\n\nNegative and zero are intrepreted as being Infinite timeout.\n","label":"[function] support timeout setting","type":"tab"},{"h":540,"id":"a2c9f90d9ea31a1f","name":"disabled Node-RED Javascript code","nodes":["1eee0e64c24bc099","2a05ee46ab296dc9"],"style":{"label":true},"type":"group","w":494,"x":165,"y":1523,"z":"f2f61ec9fc46a468"},{"h":145,"id":"e25627231644112e","name":"timeout goes to debug panel if no catch caught the time out exception","nodes":["5b347e54a92d9ff9","3e76245fbd5691b3","1fcfe383f4385b02","0e89114541b7fb2b","b5a8d6dddb17942c"],"style":{"label":true},"type":"group","w":960.5,"x":161,"y":136.5,"z":"f2f61ec9fc46a468"},{"h":213,"id":"0b1ae6a07c7f9ee1","name":"all good, function completed before timeout - no exception, no debug","nodes":["fd67b21de5786024","33112fdcb207fc20","9a58db73e33a0769","76a7f5738f160266","3695a84826fa554c","f2ea106b01f1a4c9","8fe028012828193d"],"style":{"label":true},"type":"group","w":949.5,"x":155.5,"y":601.5,"z":"f2f61ec9fc46a468"},{"h":209.5,"id":"28cbea3ee31a6c2a","name":"timeout hits and catch handles exception","nodes":["5186223e03d9b353","087e548f098823b0","c900bbc76f771c57","5bf64f22a8da1e1b","c589fe0cad265fb6","b4c5d5333e7fc298","0b8d34c24428d83e"],"style":{"label":true},"type":"group","w":940,"x":161.5,"y":333,"z":"f2f61ec9fc46a468"},{"h":213,"id":"fb9fdb40b651e3d8","name":"all good, function completed before timeout - no exception, no debug","nodes":["616ceb4757f22365","58d552991d0fc84b","d712e40a4c9c9ebf","9fabb5b3c93de925","0bae6e41684e87d5","375eb051e1d7e54c","e931271741768ce8"],"style":{"label":true},"type":"group","w":949.5,"x":151,"y":868.5,"z":"f2f61ec9fc46a468"},{"g":"a2c9f90d9ea31a1f","h":202,"id":"1eee0e64c24bc099","name":"timeout of zero is infinity timeout","nodes":["a2cf94ef446d743d","3363a0e7454b99ef","5504c9690eeecdc5"],"style":{"label":true},"type":"group","w":433,"x":200,"y":1549,"z":"f2f61ec9fc46a468"},{"g":"a2c9f90d9ea31a1f","h":202,"id":"2a05ee46ab296dc9","name":"timeout of one","nodes":["ee68ff84422283b9","71b45ad7258db27d","25a223e8463ca4fb"],"style":{"label":true},"type":"group","w":422,"x":191,"y":1835,"z":"f2f61ec9fc46a468"},{"finalize":"","func":"timer:sleep(3000), \nMsg\n","g":"e25627231644112e","id":"5b347e54a92d9ff9","initialize":"","libs":[],"name":"one second timeout, 3 second sleep","noerr":0,"outputs":1,"timeout":"1","type":"function","wires":[["0e89114541b7fb2b"]],"x":577,"y":177.5,"z":"f2f61ec9fc46a468"},{"crontab":"","g":"e25627231644112e","id":"3e76245fbd5691b3","name":"","once":false,"onceDelay":0.1,"payload":"","payloadType":"date","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","topic":"","type":"inject","wires":[["5b347e54a92d9ff9"]],"x":267,"y":177.5,"z":"f2f61ec9fc46a468"},{"finalize":"","func":"var idx = 0\nwhile ( idx < 10_000_000_000 ) {\n    idx++\n}\nreturn msg","g":"1eee0e64c24bc099","id":"a2cf94ef446d743d","initialize":"","libs":[],"name":"function 39","noerr":0,"outputs":1,"timeout":0,"type":"function","wires":[[]],"x":526,"y":1590,"z":"f2f61ec9fc46a468"},{"crontab":"","d":true,"g":"1eee0e64c24bc099","id":"3363a0e7454b99ef","name":"","once":false,"onceDelay":0.1,"payload":"","payloadType":"date","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","topic":"","type":"inject","wires":[["a2cf94ef446d743d"]],"x":306,"y":1710,"z":"f2f61ec9fc46a468"},{"g":"1eee0e64c24bc099","id":"5504c9690eeecdc5","name":"","scope":["a2cf94ef446d743d"],"type":"catch","uncaught":false,"wires":[[]],"x":557,"y":1661,"z":"f2f61ec9fc46a468"},{"finalize":"","func":"while(1==1){};\n\nreturn msg;\n","g":"2a05ee46ab296dc9","id":"ee68ff84422283b9","initialize":"","libs":[],"name":"function 40","noerr":0,"outputs":1,"timeout":"1","type":"function","wires":[[]],"x":517,"y":1876,"z":"f2f61ec9fc46a468"},{"crontab":"","d":true,"g":"2a05ee46ab296dc9","id":"71b45ad7258db27d","name":"","once":false,"onceDelay":0.1,"payload":"","payloadType":"date","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","topic":"","type":"inject","wires":[["ee68ff84422283b9"]],"x":297,"y":1996,"z":"f2f61ec9fc46a468"},{"g":"2a05ee46ab296dc9","id":"25a223e8463ca4fb","name":"","scope":["ee68ff84422283b9"],"type":"catch","uncaught":false,"wires":[[]],"x":534,"y":1927,"z":"f2f61ec9fc46a468"},{"g":"e25627231644112e","id":"1fcfe383f4385b02","inverse":false,"msgtype":"error","name":"","nodeid":"5b347e54a92d9ff9","scope":["5b347e54a92d9ff9"],"type":"ut-assert-debug","wires":[["b5a8d6dddb17942c"]],"x":642,"y":240.5,"z":"f2f61ec9fc46a468"},{"g":"e25627231644112e","id":"0e89114541b7fb2b","name":"","type":"ut-assert-failure","wires":[],"x":905,"y":177.5,"z":"f2f61ec9fc46a468"},{"finalize":"","func":"timer:sleep(1000), \nMsg\n","g":"0b1ae6a07c7f9ee1","id":"fd67b21de5786024","initialize":"","libs":[],"name":"three second timeout, one second sleep","noerr":0,"outputs":1,"timeout":"3","type":"function","wires":[["76a7f5738f160266"]],"x":568.5,"y":710.5,"z":"f2f61ec9fc46a468"},{"crontab":"","g":"0b1ae6a07c7f9ee1","id":"33112fdcb207fc20","name":"","once":false,"onceDelay":0.1,"payload":"","payloadType":"date","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","topic":"","type":"inject","wires":[["fd67b21de5786024"]],"x":261.5,"y":710.5,"z":"f2f61ec9fc46a468"},{"g":"0b1ae6a07c7f9ee1","id":"9a58db73e33a0769","inverse":true,"msgtype":"error","name":"","nodeid":"fd67b21de5786024","scope":["fd67b21de5786024"],"type":"ut-assert-debug","wires":[["8fe028012828193d"]],"x":633.5,"y":773.5,"z":"f2f61ec9fc46a468"},{"count":1,"g":"0b1ae6a07c7f9ee1","id":"76a7f5738f160266","name":"","type":"ut-assert-success","wires":[],"x":1009,"y":710.5,"z":"f2f61ec9fc46a468"},{"finalize":"","func":"timer:sleep(3000), \nMsg\n","g":"28cbea3ee31a6c2a","id":"5186223e03d9b353","initialize":"","libs":[],"name":"one second timeout, 3 second sleep","noerr":0,"outputs":1,"timeout":"1","type":"function","wires":[["5bf64f22a8da1e1b"]],"x":577.5,"y":439,"z":"f2f61ec9fc46a468"},{"crontab":"","g":"28cbea3ee31a6c2a","id":"087e548f098823b0","name":"","once":false,"onceDelay":0.1,"payload":"","payloadType":"date","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","topic":"","type":"inject","wires":[["5186223e03d9b353"]],"x":267.5,"y":439,"z":"f2f61ec9fc46a468"},{"g":"28cbea3ee31a6c2a","id":"c900bbc76f771c57","inverse":true,"msgtype":"error","name":"","nodeid":"5186223e03d9b353","scope":["5186223e03d9b353"],"type":"ut-assert-debug","wires":[["0b8d34c24428d83e"]],"x":642.5,"y":501.5,"z":"f2f61ec9fc46a468"},{"g":"28cbea3ee31a6c2a","id":"5bf64f22a8da1e1b","name":"","type":"ut-assert-failure","wires":[],"x":1005.5,"y":439,"z":"f2f61ec9fc46a468"},{"g":"0b1ae6a07c7f9ee1","id":"3695a84826fa554c","name":"","scope":["fd67b21de5786024"],"type":"catch","uncaught":false,"wires":[["f2ea106b01f1a4c9"]],"x":461,"y":643,"z":"f2f61ec9fc46a468"},{"g":"0b1ae6a07c7f9ee1","id":"f2ea106b01f1a4c9","name":"","type":"ut-assert-failure","wires":[],"x":1009,"y":642.5,"z":"f2f61ec9fc46a468"},{"g":"28cbea3ee31a6c2a","id":"c589fe0cad265fb6","name":"","scope":["5186223e03d9b353"],"type":"catch","uncaught":false,"wires":[["b4c5d5333e7fc298"]],"x":480,"y":374,"z":"f2f61ec9fc46a468"},{"count":1,"g":"28cbea3ee31a6c2a","id":"b4c5d5333e7fc298","name":"","type":"ut-assert-success","wires":[],"x":1005.5,"y":375,"z":"f2f61ec9fc46a468"},{"finalize":"","func":"timer:sleep(3000), \nMsg\n","g":"fb9fdb40b651e3d8","id":"616ceb4757f22365","initialize":"","libs":[],"name":"zero second timeout, three second sleep","noerr":0,"outputs":1,"timeout":"0","type":"function","wires":[["9fabb5b3c93de925"]],"x":564,"y":977.5,"z":"f2f61ec9fc46a468"},{"crontab":"","g":"fb9fdb40b651e3d8","id":"58d552991d0fc84b","name":"","once":false,"onceDelay":0.1,"payload":"","payloadType":"date","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","topic":"","type":"inject","wires":[["616ceb4757f22365"]],"x":257,"y":977.5,"z":"f2f61ec9fc46a468"},{"g":"fb9fdb40b651e3d8","id":"d712e40a4c9c9ebf","inverse":true,"msgtype":"error","name":"","nodeid":"fd67b21de5786024","scope":["fd67b21de5786024"],"type":"ut-assert-debug","wires":[["e931271741768ce8"]],"x":629,"y":1040.5,"z":"f2f61ec9fc46a468"},{"count":1,"g":"fb9fdb40b651e3d8","id":"9fabb5b3c93de925","name":"","type":"ut-assert-success","wires":[],"x":1004.5,"y":977.5,"z":"f2f61ec9fc46a468"},{"g":"fb9fdb40b651e3d8","id":"0bae6e41684e87d5","name":"","scope":["616ceb4757f22365"],"type":"catch","uncaught":false,"wires":[["375eb051e1d7e54c"]],"x":456.5,"y":910,"z":"f2f61ec9fc46a468"},{"g":"fb9fdb40b651e3d8","id":"375eb051e1d7e54c","name":"","type":"ut-assert-failure","wires":[],"x":1004.5,"y":909.5,"z":"f2f61ec9fc46a468"},{"g":"28cbea3ee31a6c2a","id":"0b8d34c24428d83e","name":"","type":"ut-assert-failure","wires":[],"x":1005.5,"y":501.5,"z":"f2f61ec9fc46a468"},{"g":"0b1ae6a07c7f9ee1","id":"8fe028012828193d","name":"","type":"ut-assert-failure","wires":[],"x":1009,"y":773.5,"z":"f2f61ec9fc46a468"},{"g":"fb9fdb40b651e3d8","id":"e931271741768ce8","name":"","type":"ut-assert-failure","wires":[],"x":1004.5,"y":1040.5,"z":"f2f61ec9fc46a468"},{"g":"e25627231644112e","id":"b5a8d6dddb17942c","ignore_failure_if_succeed":false,"name":"","rules":[{"p":"debug.nodeid","pt":"msg","t":"eql","to":"5b347e54a92d9ff9","tot":"str"},{"p":"debug.type","pt":"msg","t":"eql","to":"error","tot":"str"},{"p":"payload['level']","pt":"msg","t":"eql","to":"20","tot":"num"},{"p":"payload.format","pt":"msg","t":"eql","to":"object","tot":"str"},{"p":"payload.id","pt":"msg","t":"eql","to":"5b347e54a92d9ff9","tot":"str"},{"p":"payload.name","pt":"msg","t":"eql","to":"one second timeout, 3 second sleep","tot":"str"},{"p":"payload.msg.error_msg","pt":"msg","t":"eql","to":"unexpected exit","tot":"str"}],"type":"ut-assert-values","wires":[[]],"x":1015.5,"y":240.5,"z":"f2f61ec9fc46a468"}]