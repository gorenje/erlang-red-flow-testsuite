[{"id":"f2f61ec9fc46a468","type":"tab","label":"[function] support timeout setting","disabled":false,"info":"## Function timeout support\n\nNon-negative timeout values in seconds.\n\nNegative and zero are intrepreted as being Infinite timeout.\n","env":[{"name":"ERED_PENDING","value":"false","type":"bool"},{"name":"ERED_TIMEOUT","value":"7","type":"num"}]},{"id":"a2c9f90d9ea31a1f","type":"group","z":"f2f61ec9fc46a468","name":"disabled Node-RED Javascript code","style":{"label":true},"nodes":["1eee0e64c24bc099","2a05ee46ab296dc9"],"x":165,"y":1487,"w":806,"h":576},{"id":"e25627231644112e","type":"group","z":"f2f61ec9fc46a468","name":"timeout goes to debug panel if no catch caught the time out exception","style":{"label":true},"nodes":["5b347e54a92d9ff9","3e76245fbd5691b3","1fcfe383f4385b02","0e89114541b7fb2b"],"x":161,"y":136.5,"w":840,"h":145},{"id":"0b1ae6a07c7f9ee1","type":"group","z":"f2f61ec9fc46a468","name":"all good, function completed before timeout - no exception, no debug","style":{"label":true},"nodes":["fd67b21de5786024","33112fdcb207fc20","9a58db73e33a0769","76a7f5738f160266","3695a84826fa554c","f2ea106b01f1a4c9"],"x":155.5,"y":601.5,"w":889.5,"h":213},{"id":"28cbea3ee31a6c2a","type":"group","z":"f2f61ec9fc46a468","name":"timeout hits and catch handles exception","style":{"label":true},"nodes":["5186223e03d9b353","087e548f098823b0","c900bbc76f771c57","5bf64f22a8da1e1b","c589fe0cad265fb6","b4c5d5333e7fc298"],"x":161.5,"y":333,"w":900,"h":209.5},{"id":"fb9fdb40b651e3d8","type":"group","z":"f2f61ec9fc46a468","name":"all good, function completed before timeout - no exception, no debug","style":{"label":true},"nodes":["616ceb4757f22365","58d552991d0fc84b","d712e40a4c9c9ebf","9fabb5b3c93de925","0bae6e41684e87d5","375eb051e1d7e54c"],"x":151,"y":868.5,"w":889.5,"h":213},{"id":"1eee0e64c24bc099","type":"group","z":"f2f61ec9fc46a468","g":"a2c9f90d9ea31a1f","name":"timeout of zero is infinity timeout","style":{"label":true},"nodes":["a2cf94ef446d743d","3363a0e7454b99ef","0318b55b9cafb9e1","5504c9690eeecdc5","cd9d5efdd621ec71"],"x":200,"y":1513,"w":745,"h":238},{"id":"2a05ee46ab296dc9","type":"group","z":"f2f61ec9fc46a468","g":"a2c9f90d9ea31a1f","name":"timeout of one","style":{"label":true},"nodes":["ee68ff84422283b9","71b45ad7258db27d","88b7d259ff21fd1e","25a223e8463ca4fb","d6996d9d651ea1da"],"x":191,"y":1799,"w":745,"h":238},{"id":"5b347e54a92d9ff9","type":"function","z":"f2f61ec9fc46a468","g":"e25627231644112e","name":"one second timeout, 3 second sleep","func":"timer:sleep(3000), \nMsg\n","outputs":1,"timeout":"1","noerr":0,"initialize":"","finalize":"","libs":[],"x":577,"y":177.5,"wires":[["0e89114541b7fb2b"]]},{"id":"3e76245fbd5691b3","type":"inject","z":"f2f61ec9fc46a468","g":"e25627231644112e","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":267,"y":177.5,"wires":[["5b347e54a92d9ff9"]]},{"id":"a2cf94ef446d743d","type":"function","z":"f2f61ec9fc46a468","g":"1eee0e64c24bc099","name":"function 39","func":"var idx = 0\nwhile ( idx < 10_000_000_000 ) {\n    idx++\n}\nreturn msg","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":526,"y":1590,"wires":[["0318b55b9cafb9e1"]]},{"id":"3363a0e7454b99ef","type":"inject","z":"f2f61ec9fc46a468","d":true,"g":"1eee0e64c24bc099","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":306,"y":1710,"wires":[["a2cf94ef446d743d"]]},{"id":"0318b55b9cafb9e1","type":"debug","z":"f2f61ec9fc46a468","g":"1eee0e64c24bc099","name":"debug 421","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":829,"y":1554,"wires":[]},{"id":"5504c9690eeecdc5","type":"catch","z":"f2f61ec9fc46a468","g":"1eee0e64c24bc099","name":"","scope":["a2cf94ef446d743d"],"uncaught":false,"x":557,"y":1661,"wires":[["cd9d5efdd621ec71"]]},{"id":"cd9d5efdd621ec71","type":"debug","z":"f2f61ec9fc46a468","g":"1eee0e64c24bc099","name":"debug 424","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":792,"y":1653,"wires":[]},{"id":"ee68ff84422283b9","type":"function","z":"f2f61ec9fc46a468","g":"2a05ee46ab296dc9","name":"function 40","func":"while(1==1){};\n\nreturn msg;\n","outputs":1,"timeout":"1","noerr":0,"initialize":"","finalize":"","libs":[],"x":517,"y":1876,"wires":[["88b7d259ff21fd1e"]]},{"id":"71b45ad7258db27d","type":"inject","z":"f2f61ec9fc46a468","d":true,"g":"2a05ee46ab296dc9","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":297,"y":1996,"wires":[["ee68ff84422283b9"]]},{"id":"88b7d259ff21fd1e","type":"debug","z":"f2f61ec9fc46a468","g":"2a05ee46ab296dc9","name":"debug 422","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":820,"y":1840,"wires":[]},{"id":"25a223e8463ca4fb","type":"catch","z":"f2f61ec9fc46a468","g":"2a05ee46ab296dc9","name":"","scope":["ee68ff84422283b9"],"uncaught":false,"x":534,"y":1927,"wires":[["d6996d9d651ea1da"]]},{"id":"d6996d9d651ea1da","type":"debug","z":"f2f61ec9fc46a468","g":"2a05ee46ab296dc9","name":"debug 423","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":769,"y":1982,"wires":[]},{"id":"1fcfe383f4385b02","type":"ut-assert-debug","z":"f2f61ec9fc46a468","g":"e25627231644112e","name":"","nodeid":"5b347e54a92d9ff9","msgtype":"error","inverse":false,"x":642,"y":240.5,"wires":[]},{"id":"0e89114541b7fb2b","type":"ut-assert-failure","z":"f2f61ec9fc46a468","g":"e25627231644112e","name":"","x":905,"y":177.5,"wires":[]},{"id":"fd67b21de5786024","type":"function","z":"f2f61ec9fc46a468","g":"0b1ae6a07c7f9ee1","name":"three second timeout, one second sleep","func":"timer:sleep(1000), \nMsg\n","outputs":1,"timeout":"3","noerr":0,"initialize":"","finalize":"","libs":[],"x":568.5,"y":710.5,"wires":[["76a7f5738f160266"]]},{"id":"33112fdcb207fc20","type":"inject","z":"f2f61ec9fc46a468","g":"0b1ae6a07c7f9ee1","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":261.5,"y":710.5,"wires":[["fd67b21de5786024"]]},{"id":"9a58db73e33a0769","type":"ut-assert-debug","z":"f2f61ec9fc46a468","g":"0b1ae6a07c7f9ee1","name":"","nodeid":"fd67b21de5786024","msgtype":"error","inverse":true,"x":633.5,"y":773.5,"wires":[]},{"id":"76a7f5738f160266","type":"ut-assert-success","z":"f2f61ec9fc46a468","g":"0b1ae6a07c7f9ee1","name":"","x":949,"y":710.5,"wires":[]},{"id":"5186223e03d9b353","type":"function","z":"f2f61ec9fc46a468","g":"28cbea3ee31a6c2a","name":"one second timeout, 3 second sleep","func":"timer:sleep(3000), \nMsg\n","outputs":1,"timeout":"1","noerr":0,"initialize":"","finalize":"","libs":[],"x":577.5,"y":439,"wires":[["5bf64f22a8da1e1b"]]},{"id":"087e548f098823b0","type":"inject","z":"f2f61ec9fc46a468","g":"28cbea3ee31a6c2a","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":267.5,"y":439,"wires":[["5186223e03d9b353"]]},{"id":"c900bbc76f771c57","type":"ut-assert-debug","z":"f2f61ec9fc46a468","g":"28cbea3ee31a6c2a","name":"","nodeid":"5186223e03d9b353","msgtype":"error","inverse":true,"x":642.5,"y":501.5,"wires":[]},{"id":"5bf64f22a8da1e1b","type":"ut-assert-failure","z":"f2f61ec9fc46a468","g":"28cbea3ee31a6c2a","name":"","x":965.5,"y":439,"wires":[]},{"id":"3695a84826fa554c","type":"catch","z":"f2f61ec9fc46a468","g":"0b1ae6a07c7f9ee1","name":"","scope":["fd67b21de5786024"],"uncaught":false,"x":461,"y":643,"wires":[["f2ea106b01f1a4c9"]]},{"id":"f2ea106b01f1a4c9","type":"ut-assert-failure","z":"f2f61ec9fc46a468","g":"0b1ae6a07c7f9ee1","name":"","x":949,"y":642.5,"wires":[]},{"id":"c589fe0cad265fb6","type":"catch","z":"f2f61ec9fc46a468","g":"28cbea3ee31a6c2a","name":"","scope":["5186223e03d9b353"],"uncaught":false,"x":480,"y":374,"wires":[["b4c5d5333e7fc298"]]},{"id":"b4c5d5333e7fc298","type":"ut-assert-success","z":"f2f61ec9fc46a468","g":"28cbea3ee31a6c2a","name":"","x":965.5,"y":375,"wires":[]},{"id":"616ceb4757f22365","type":"function","z":"f2f61ec9fc46a468","g":"fb9fdb40b651e3d8","name":"zero second timeout, three second sleep","func":"timer:sleep(3000), \nMsg\n","outputs":1,"timeout":"0","noerr":0,"initialize":"","finalize":"","libs":[],"x":564,"y":977.5,"wires":[["9fabb5b3c93de925"]]},{"id":"58d552991d0fc84b","type":"inject","z":"f2f61ec9fc46a468","g":"fb9fdb40b651e3d8","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":257,"y":977.5,"wires":[["616ceb4757f22365"]]},{"id":"d712e40a4c9c9ebf","type":"ut-assert-debug","z":"f2f61ec9fc46a468","g":"fb9fdb40b651e3d8","name":"","nodeid":"fd67b21de5786024","msgtype":"error","inverse":true,"x":629,"y":1040.5,"wires":[]},{"id":"9fabb5b3c93de925","type":"ut-assert-success","z":"f2f61ec9fc46a468","g":"fb9fdb40b651e3d8","name":"","x":944.5,"y":977.5,"wires":[]},{"id":"0bae6e41684e87d5","type":"catch","z":"f2f61ec9fc46a468","g":"fb9fdb40b651e3d8","name":"","scope":["616ceb4757f22365"],"uncaught":false,"x":456.5,"y":910,"wires":[["375eb051e1d7e54c"]]},{"id":"375eb051e1d7e54c","type":"ut-assert-failure","z":"f2f61ec9fc46a468","g":"fb9fdb40b651e3d8","name":"","x":944.5,"y":909.5,"wires":[]}]