[{"id":"c843dacf753a19d8","type":"tab","label":"[batch] ensure batch size of 1 works","disabled":false,"info":"","env":[]},{"id":"a2567c071dd6c1a1","type":"inject","z":"c843dacf753a19d8","name":"","props":[{"p":"counter","v":"0","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":121.33328247070312,"y":378.6666679382324,"wires":[["343dac59e4d95869"]]},{"id":"343dac59e4d95869","type":"change","z":"c843dacf753a19d8","name":"alter _msgid","rules":[{"t":"set","p":"payload","pt":"msg","to":"counter","tot":"msg"},{"t":"set","p":"counter","pt":"msg","to":"$$.counter + 1","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":382.3332748413086,"y":454.41664123535156,"wires":[["f85ecd688b69357f","01deff7cb370b163"]]},{"id":"f85ecd688b69357f","type":"switch","z":"c843dacf753a19d8","name":"limit to 100 messages","property":"payload","propertyType":"msg","rules":[{"t":"lt","v":"100","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":372.333251953125,"y":247.66668701171875,"wires":[["343dac59e4d95869"]]},{"id":"01deff7cb370b163","type":"batch","z":"c843dacf753a19d8","name":"","mode":"count","count":"1","overlap":0,"interval":10,"allowEmptySequence":false,"honourParts":false,"topics":[],"x":645,"y":378.6666679382324,"wires":[["989c65da1462f110","4d9b97f003f8b2fd"]]},{"id":"989c65da1462f110","type":"join","z":"c843dacf753a19d8","name":"","mode":"custom","build":"array","property":"payload","propertyType":"full","key":"topic","joiner":"\\n","joinerType":"str","useparts":false,"accumulate":false,"timeout":"","count":"101","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":815,"y":399.4999809265137,"wires":[["10cf2e19058cba29"]]},{"id":"4d9b97f003f8b2fd","type":"ut-assert-success","z":"c843dacf753a19d8","name":"","count":"101","x":864,"y":320.4999809265137,"wires":[]},{"id":"10cf2e19058cba29","type":"ut-assert-values","z":"c843dacf753a19d8","name":"","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"parts.index","pt":"msg","to":"0","tot":"num"}],"x":1060,"y":399.4999809265137,"wires":[[]]}]