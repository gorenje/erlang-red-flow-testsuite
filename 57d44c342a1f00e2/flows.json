[{"id":"57d44c342a1f00e2","type":"tab","label":"[csv] [decode] skip line happens before parsing content","disabled":false,"info":"An interesting feature of the CSV node is that it skips lines first before apply its configuration to the rest of the content.\n\n","env":[{"name":"ERED_PENDING","value":"true","type":"bool"}]},{"id":"edf0c6d793c64fa6","type":"group","z":"57d44c342a1f00e2","name":"single message","style":{"label":true},"nodes":["2ab004148a0acb40","f7cb0b5287576148","17fe5aae03bd29ee","265ecdb8ccbaf4c5"],"x":594,"y":276,"w":573,"h":295.25},{"id":"407ab5936d0d62b8","type":"group","z":"57d44c342a1f00e2","name":"msg per row","style":{"label":true},"nodes":["db68dd7a93a77873","f84b932edb5cc6df","ed0849dc5df77b81","6ab3a8e70d706bd7","d2f344903fe25e6f","923757623a0f632c","7e8df24acdf8e378","99eeaec9357b7b14","5a6a62b51b07c9b1","01929a73f1b8d689"],"x":594,"y":628,"w":916,"h":340.5},{"id":"53121a5c807ae695","type":"inject","z":"57d44c342a1f00e2","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":227,"y":506,"wires":[["995f9f7c9d976d9b"]]},{"id":"995f9f7c9d976d9b","type":"template","z":"57d44c342a1f00e2","name":"csv data","field":"payload","fieldType":"msg","format":"text","syntax":"mustache","template":"都道府県,人口集中地区人口比率,昼夜間人口比率,就業者比率,飲食店・宿泊業就業者比率,旅行行動者率,外国人宿泊者比率,単独世帯比率,人口10万人当たり感染者率\n北海道,75.2,99.9,45.25,5.79,54.6,25.29,37.19,24.12\n青森県,46.63,99.8,47.85,4.65,40.6,8.01,30.03,2.14\n岩手県,31.88,99.8,49.73,4.81,46.1,4.74,30.13,0\n宮城県,64.05,100.3,46.19,5.1,59.7,4.21,34.28,4.06\n秋田県,34.96,99.8,47.2,4.76,49.2,3.76,27.83,1.63\n山形県,43.69,99.7,50.01,4.66,54.4,3.07,25.42,6.33\n福島県,42.62,100.2,48.18,4.73,53.6,1.71,30.28,4.4\n茨城県,38.16,97.5,48.02,4.34,54.6,4.24,28.31,6.05\n栃木県,45.19,99,48.83,5.05,53.5,3.15,28.79,3.91\n群馬県,39.91,99.8,48.96,5.02,54.8,3.92,28.56,7.79\n埼玉県,80.2,88.9,47.95,4.52,65.7,3.93,30.44,15.89\n千葉県,74.28,89.7,46.28,5.06,64.8,17.22,32.31,15.19\n東京都,98.37,117.8,43.35,6.35,69.2,36.48,47.23,46.34\n神奈川県,94.41,91.2,45.16,5.23,66.5,13.4,35.37,16.67\n新潟県,48.66,99.9,49.51,4.78,57.3,3.73,27.54,3.74\n富山県,37.79,99.8,50.53,4.2,60.9,8.53,26.09,21.62\n石川県,51.45,100.2,49.62,5.81,60.8,10.8,31.44,26.25\n福井県,43.98,100,50.74,4.85,55.6,2.17,26.32,15.76\n山梨県,31.24,99.2,48.96,6.16,55.3,24.63,29.47,9.06\n長野県,34.23,99.8,50.97,5.81,56.7,8.96,27.8,3.73\n岐阜県,38.21,96.1,50,5.2,56.8,21.67,25.75,7.81\n静岡県,59.89,99.8,50.41,5.32,54.8,8.73,28.49,2.27\n愛知県,77.54,101.4,49.03,5.15,64.5,17.22,33.44,6.99\n三重県,43.46,98.3,48.06,4.72,59.7,4.62,29.36,2.57\n滋賀県,49.68,96.5,47.98,4.33,63.1,10.01,28.41,7.22\n京都府,83.56,101.8,45.69,6.56,59.7,29.48,38.16,14.63\n大阪府,95.66,104.4,42.74,5.76,59.1,36.2,37.48,21.04\n兵庫県,77.67,95.7,44.15,5.16,59.4,9.87,32.66,12.96\n奈良県,64.77,90,43.31,4.43,62,17.32,25.65,6.87\n和歌山県,37.23,98.2,46.22,5.18,49.6,9.58,29.29,6.84\n鳥取県,36.98,99.9,48.99,4.9,49.4,6.42,29.4,0.71\n島根県,24.24,100.1,49.4,4.69,49.6,2.42,30.1,3.53\n岡山県,46.69,100,46.88,4.14,54.5,9.34,32.15,1.37\n広島県,64.47,100.2,47,4.54,54.2,10.82,34.43,5.96\n山口県,49.22,99.6,45.92,4.52,51.5,2.65,33.25,2.7\n徳島県,32.7,99.6,45.37,4.22,48.9,5.45,32.07,0.82\n香川県,32.56,100.2,46.36,4.5,50.4,13.79,31.48,2.91\n愛媛県,52.95,100,46.4,4.42,50.6,5.73,33.51,6.07\n高知県,43.52,99.9,44.41,5.37,42.7,3.01,36.32,10.48\n福岡県,72.39,100.1,44.18,5.22,58.4,20.94,37.29,16.8\n佐賀県,31.43,100.2,49.26,4.89,50.7,15.56,26.77,5.74\n長崎県,48.03,99.8,46.77,5.44,46.8,9.58,31.8,12.3\n熊本県,47.81,99.5,46.71,4.97,51.3,13.64,30.82,2.79\n大分県,47.23,99.9,46.83,5.33,53.8,18.46,33.1,5.24\n宮崎県,46.11,99.9,47.03,4.92,48.4,9.27,32.02,1.57\n鹿児島県,40.21,99.9,45.74,5.31,49.6,10.62,35.55,1.3\n沖縄県,67.79,100,41.13,8.05,37.8,23.17,32.29,9.81\n","output":"str","x":440,"y":622.25,"wires":[["2ab004148a0acb40","17fe5aae03bd29ee","db68dd7a93a77873","f84b932edb5cc6df"]]},{"id":"2ab004148a0acb40","type":"csv","z":"57d44c342a1f00e2","g":"edf0c6d793c64fa6","name":"first line is header, skip 44 lines","spec":"rfc","sep":",","hdrin":true,"hdrout":"none","multi":"mult","ret":"\\r\\n","temp":"","skip":"44","strings":true,"include_empty_strings":"","include_null_values":"","x":750,"y":407,"wires":[["f7cb0b5287576148"]]},{"id":"f7cb0b5287576148","type":"ut-assert-values","z":"57d44c342a1f00e2","g":"edf0c6d793c64fa6","name":"","rules":[{"t":"eql","p":"payload","pt":"msg","to":"[{\"大分県\":\"宮崎県\",\"47.23\":46.11,\"99.9\":99.9,\"46.83\":47.03,\"5.33\":4.92,\"53.8\":48.4,\"18.46\":9.27,\"33.1\":32.02,\"5.24\":1.57},{\"大分県\":\"鹿児島県\",\"47.23\":40.21,\"99.9\":99.9,\"46.83\":45.74,\"5.33\":5.31,\"53.8\":49.6,\"18.46\":10.62,\"33.1\":35.55,\"5.24\":1.3},{\"大分県\":\"沖縄県\",\"47.23\":67.79,\"99.9\":100,\"46.83\":41.13,\"5.33\":8.05,\"53.8\":37.8,\"18.46\":23.17,\"33.1\":32.29,\"5.24\":9.81}]","tot":"json"}],"x":1051,"y":317,"wires":[[]]},{"id":"17fe5aae03bd29ee","type":"csv","z":"57d44c342a1f00e2","g":"edf0c6d793c64fa6","name":"no header line, skip 44 lines","spec":"rfc","sep":",","hdrin":false,"hdrout":"none","multi":"mult","ret":"\\r\\n","temp":"","skip":"44","strings":true,"include_empty_strings":"","include_null_values":"","x":740,"y":530.25,"wires":[["265ecdb8ccbaf4c5"]]},{"id":"265ecdb8ccbaf4c5","type":"ut-assert-values","z":"57d44c342a1f00e2","g":"edf0c6d793c64fa6","name":"","rules":[{"t":"eql","p":"payload","pt":"msg","to":"[{\"col1\":\"大分県\",\"col2\":47.23,\"col3\":99.9,\"col4\":46.83,\"col5\":5.33,\"col6\":53.8,\"col7\":18.46,\"col8\":33.1,\"col9\":5.24},{\"col1\":\"宮崎県\",\"col2\":46.11,\"col3\":99.9,\"col4\":47.03,\"col5\":4.92,\"col6\":48.4,\"col7\":9.27,\"col8\":32.02,\"col9\":1.57},{\"col1\":\"鹿児島県\",\"col2\":40.21,\"col3\":99.9,\"col4\":45.74,\"col5\":5.31,\"col6\":49.6,\"col7\":10.62,\"col8\":35.55,\"col9\":1.3},{\"col1\":\"沖縄県\",\"col2\":67.79,\"col3\":100,\"col4\":41.13,\"col5\":8.05,\"col6\":37.8,\"col7\":23.17,\"col8\":32.29,\"col9\":9.81}]","tot":"json"}],"x":1051,"y":439,"wires":[[]]},{"id":"db68dd7a93a77873","type":"csv","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"first line is header, skip 44 lines","spec":"rfc","sep":",","hdrin":true,"hdrout":"none","multi":"one","ret":"\\r\\n","temp":"","skip":"44","strings":true,"include_empty_strings":"","include_null_values":"","x":750,"y":767.5,"wires":[["ed0849dc5df77b81","6ab3a8e70d706bd7"]]},{"id":"f84b932edb5cc6df","type":"csv","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"no header line, skip 44 lines","spec":"rfc","sep":",","hdrin":false,"hdrout":"none","multi":"one","ret":"\\r\\n","temp":"","skip":"44","strings":true,"include_empty_strings":"","include_null_values":"","x":760,"y":824.25,"wires":[["7e8df24acdf8e378","99eeaec9357b7b14"]]},{"id":"ed0849dc5df77b81","type":"join","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","useparts":false,"accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1081,"y":669,"wires":[["923757623a0f632c"]]},{"id":"6ab3a8e70d706bd7","type":"join","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","useparts":false,"accumulate":false,"timeout":"","count":"4","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1081,"y":735.5,"wires":[["d2f344903fe25e6f"]]},{"id":"923757623a0f632c","type":"ut-assert-values","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"","rules":[{"t":"eql","p":"payload","pt":"msg","to":"[{\"大分県\":\"宮崎県\",\"47.23\":46.11,\"99.9\":99.9,\"46.83\":47.03,\"5.33\":4.92,\"53.8\":48.4,\"18.46\":9.27,\"33.1\":32.02,\"5.24\":1.57},{\"大分県\":\"鹿児島県\",\"47.23\":40.21,\"99.9\":99.9,\"46.83\":45.74,\"5.33\":5.31,\"53.8\":49.6,\"18.46\":10.62,\"33.1\":35.55,\"5.24\":1.3},{\"大分県\":\"沖縄県\",\"47.23\":67.79,\"99.9\":100,\"46.83\":41.13,\"5.33\":8.05,\"53.8\":37.8,\"18.46\":23.17,\"33.1\":32.29,\"5.24\":9.81}]","tot":"json"}],"x":1393,"y":669,"wires":[[]]},{"id":"d2f344903fe25e6f","type":"ut-assert-failure","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"","x":1258,"y":735.5,"wires":[]},{"id":"7e8df24acdf8e378","type":"join","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","useparts":false,"accumulate":false,"timeout":"","count":"4","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1082,"y":861,"wires":[["5a6a62b51b07c9b1"]]},{"id":"99eeaec9357b7b14","type":"join","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","useparts":false,"accumulate":false,"timeout":"","count":"5","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1082,"y":927.5,"wires":[["01929a73f1b8d689"]]},{"id":"5a6a62b51b07c9b1","type":"ut-assert-values","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"","rules":[{"t":"eql","p":"payload","pt":"msg","to":"[{\"col1\":\"大分県\",\"col2\":47.23,\"col3\":99.9,\"col4\":46.83,\"col5\":5.33,\"col6\":53.8,\"col7\":18.46,\"col8\":33.1,\"col9\":5.24},{\"col1\":\"宮崎県\",\"col2\":46.11,\"col3\":99.9,\"col4\":47.03,\"col5\":4.92,\"col6\":48.4,\"col7\":9.27,\"col8\":32.02,\"col9\":1.57},{\"col1\":\"鹿児島県\",\"col2\":40.21,\"col3\":99.9,\"col4\":45.74,\"col5\":5.31,\"col6\":49.6,\"col7\":10.62,\"col8\":35.55,\"col9\":1.3},{\"col1\":\"沖縄県\",\"col2\":67.79,\"col3\":100,\"col4\":41.13,\"col5\":8.05,\"col6\":37.8,\"col7\":23.17,\"col8\":32.29,\"col9\":9.81}]","tot":"json"}],"x":1394,"y":861,"wires":[[]]},{"id":"01929a73f1b8d689","type":"ut-assert-failure","z":"57d44c342a1f00e2","g":"407ab5936d0d62b8","name":"","x":1259,"y":927.5,"wires":[]}]