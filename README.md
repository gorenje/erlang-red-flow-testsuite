# Erlang-RED Flow Testsuite

A collection of test flows to ensure node compatibility with original Node-RED nodes.

These flows are designed to be executed using the orignal [Node-RED](https://nodered.org) and the Erlang version - [Erlang-RED](https://github.com/gorenje/erlang-red).

They provide a definition of what functionality is expected from the existing core nodes of Node-RED.

These flows utilise the [erlang-red-unittest](https://github.com/gorenje/erlang-red-unittesting-nodes) nodes to ensure conformance.

## work in progress for a proof of concept

The flows are currently part of the [Erlang-RED project](https://github.com/gorenje/erlang-red/tree/main/priv/testflows) and will be moved over here soonish ... once there here, this comment will be removed. The aim is that this repository becomes the single source of truth for those test flows.

## FlowHub

Direct access to this repository from within Node-RED or Erlang-RED is possible via the [FlowHub](https://flows.nodered.org/node/@gregoriusrippenstein/node-red-contrib-flowhub) nodes and using this read-only token:

```
fhb_WyIreTFVdjA5aG96bW9lVW1aeG41SE1RPT0iLCI4WTM3ODR1dzhRVWpRanBNU0lQVEM2OG5PRVZwRFZpQm84M0dTT3VRTVdEcmh6N0VyUTk2a1JXVUZpdWZkUnZLS0pTb0NBWmRnT25oa3g3VHlRcUd3ZUM2SmU0RTNZOUJwbjN2alRqc2dMNi9tekswUkRPYzlaNjBEZ0RoUzBtbnZMeFFUSWZIV3oxczZMYTRYTXA4UVFldmsxM0hGWlcwS2RrVEEzaVB4ZjBSTW4xdTF0UXZjYjIyRDI2ZEpTQUI0Q3dDdzd1NXdzZlB3dWd0N1VKT3RmUGkzakNDRzcwaVd6dzdFdkZrNGlyTFl2S2Z6cThMIl0
```

How to add the token to the FlowHub nodes:

![img](.images/flowhub-token-tab.png)

This token also works in the [browser-only serverless](https://deadred.flowhub.org) version of Node-RED, for those who do not wish to install Node-RED.

## Git Clone

Adding test cases can be done by either creating a pull request here or via the FlowHub nodes. For that, a fork of this repository will be necessary. Commit to the fork via the FlowHub nodes and then create a pull request.

Structure of the repository is that the flow id is the directory name and in the directory is the flows.json file containing the flow, nodedetails.json which is a list of dependencies of the flow and an SVG image of the flow. These artifacts are all generated by FlowHub when updating a repository with a flow.
