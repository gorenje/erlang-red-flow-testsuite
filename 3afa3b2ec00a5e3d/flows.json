[{"id":"3afa3b2ec00a5e3d","type":"tab","label":"[supervisor] multiple individual supervisors","disabled":false,"info":"<small><i>[Share link](https://flows.red-erik.org/f/3afa3b2ec00a5e3d)</i></small>\n\nDemonstrate the various configurations of the supervisor node visually.\n\nFor more details on the configuration of Supervisors, check the [OTP documentation](https://www.erlang.org/doc/apps/stdlib/supervisor.html).\n\n## Setup\n\nFirst comes the source of messages. <a class='ahl-group-only' data-ids='f75f3dfd9421f0f1'>Message generator</a> that generates a continous stream of messages until 20k messages have been generated.\n\nThese messages are feed into nodes that are supervised by a supervisor. A <a class='ahl-node-only' data-ids='ca381bfca1c3a6a8'>link out node</a> and several <a class='ahl-node-only' data-ids='6dffa4232a7ec9a9,7835bb0a66ce9604,07a48d0ae3691dfd,f032986923013ead'>link in nodes</a> do this.\n\nSupervisor <a class='ahl-group-only' data-ids='f819a208c9a9e301'>restart flow</a> takes care of restarting supervisors if they die. This happens when their intensity/period limits are hit. For these tests, that is always 150/30, i.e. 150 failures within a 30 second period causes the supervisor to die and with it, the nodes it was supervising. Supervisor nodes supervising other supervisor nodes is not yet implemented but ErlangRED provides an alternative solution as implemeted here.\n\n\n## TL;DR\n\nThis is an image of a previous iteration of the supervisor node as discussed in the [Erlang forum](https://erlangforums.com/t/erlangred-supervisor-node-any-other-configuration-that-might-be-necessary-for-a-supervisor/4776/2?u=gorenje).\n\n![img](https://cdn.openmindmap.org/content/1748163187042_erlang-red-supervisor2.gif)\n\nWhat is shown is a supervisor that is supervising three function nodes and two debug nodes. The debug nodes are just counting messages as they come in. The bottom and top function nodes just pass through the messages they receive and the middle function node does an `exit(self(), failure)` - its the process/node that is failing.\n\nThe supervisor has an intensity of 500 over 30 seconds. Not shown is a message generator that is an infinite loop that pauses for 5 millisecond between messages. The debug node at the very bottom is counting those messages.\n\nThe order in which the child processes are started is defined in the supervisor node. The order is as shown in the image, from top to bottom: `function 1`, `debug 1`, `exit call`, `function 3` and `debug 6`. This will become important with the rest-for-one restart strategy. \n\nSo what happens? When the first message comes in (all function nodes receive the same messages), the exit call function fails and the supervisor restarts it.\n\nFor one-for-all, all nodes are restarted. The debug nodes have their counts reset to zero and hence they are showing 1. It’s always a new message but they never get beyond one message because the exit-call function keeps being restarted by the supervisor and so are the debug nodes (the green nodes).\n\nThe one-for-one strategy shows the debug nodes hitting a message count of 501 because after 500 messages, the supervisor dies. What is not shown is that the supervisor is automagically restarted after two seconds (shown by the status of the supervisor node). When the supervisor is restarted, the processes that represent the function and debug nodes are restarted and begin receiving message from existing nodes/processes again.\n\nFinally the rest-for-one strategy shows that the top debug continues to receive messages (i.e. isn’t restarted) when the exit function is restarted but the debug 6 counter stays at 1 - because it’s being restarted and only receives one message before being restarted.\n\n## Supervisors\n\nFour supervisors are defined that each supervise two debug nodes and one function node. The function node exits with a call to exit. Each supervisor implements a different restart strategy.\n\n- <a class='ahl-group-only' data-ids='2936cc7950d10f77'>rest-for-one</a> ordering being top to bottom meaning that the <a class='ahl-node-only' data-ids='40091b993841f325'>exit call function node</a>, when restarted, will also cause the nodes below it to be restarted.\n\n- <a class='ahl-group-only' data-ids='859955c795ba6c86'>rest-for-one</a> ordering being bottom to top meaning that the <a class='ahl-node-only' data-ids='0bd18da85d825d6f'>exit call function node</a>, when restarted, will also cause the nodes above it to be restarted.\n\n- <a class='ahl-group-only' data-ids='34c704ff5c1978cf'>one-for-one</a> here when the <a class='ahl-node-only' data-ids='4c545d0296232dbb'>function node</a> is restarted by the <a class='ahl-node-only' data-ids='61de32d2e9fdd19f'>supervisor node</a>, the two <a class='ahl-node-only' data-ids='e51d981260fcda5f,38c20f8cb95a4965'>debug nodes</a> are affected and only stopped once the supervisor dies. Hence both debung nodes hit a count of 150.\n\n- <a class='ahl-group-only' data-ids='fa67af97329dd415'>one-for-all</a> means that all nodes under supervision are restarted if any node fails and is restarted. This means that the <a class='ahl-node-only' data-ids='9d89f7d1f2181a14,8123a9952db0b131'>debug nodes</a> are constantly being restarted by the <a class='ahl-node-only' data-ids='57e6cd2a05214926'>supervisor node</a> since the <a class='ahl-node-only' data-ids='3fe75266b20c7d3f'>function node</a> is constantly dying. The debug nodes show a count of 1 but that is always a new message - this can be experienced by getting the debug nodes to send their messages to the debug panel.\n\n[Next: Single Supervisor with restart flow](https://flows.red-erik.org/f/6b22ce2a482c2d6d).","env":[{"name":"ERED_NOT_EUNIT","value":"true","type":"bool"}]},{"id":"2936cc7950d10f77","type":"group","z":"3afa3b2ec00a5e3d","name":"rest - for - one - order top to bottom","style":{"label":true},"nodes":["4ae02f63f450c6f9","40091b993841f325","54a9791650cb61b7","23d96d3b8391cef5","d52aac5750f2bb0c","f0ee2b3e4781eb6f","43aa4576cc0449fd","f38f641b0fe0202f","7cdde8314f6355d7","f032986923013ead"],"x":487,"y":856.010320186615,"w":334.92850494384766,"h":780.0610542297363},{"id":"859955c795ba6c86","type":"group","z":"3afa3b2ec00a5e3d","name":"rest - for - one - order bottom to top","style":{"label":true},"nodes":["d429c9c28047ef4c","0bd18da85d825d6f","b50a8242b41ae0c6","92ec6d9f3d879580","ee2f23c2b6fee4f8","2080a6ce08b2c7de","cd3028c339baf502","46f646d7334123c2","74c3ab0399dc06e2","07a48d0ae3691dfd"],"x":882,"y":856.1666030883789,"w":339.92850494384766,"h":779.9047713279724},{"id":"34c704ff5c1978cf","type":"group","z":"3afa3b2ec00a5e3d","name":"one - for - one","style":{"label":true},"nodes":["61de32d2e9fdd19f","4c545d0296232dbb","e51d981260fcda5f","38c20f8cb95a4965","aa1dbbcfff2809b7","55a6ebecbdbb73e7","c255165743dab74e","29471e95423b991b","0d8e15cfb25a1343","7835bb0a66ce9604"],"x":1486,"y":856.1666030883789,"w":335.92850494384766,"h":779.9047713279724},{"id":"fa67af97329dd415","type":"group","z":"3afa3b2ec00a5e3d","name":"one - for - all","style":{"label":true},"nodes":["57e6cd2a05214926","3fe75266b20c7d3f","9d89f7d1f2181a14","8123a9952db0b131","0ab6b6e6cbe62b6a","e73de5dd8451e30b","dcfd4fec22f930eb","3dd04914baf158a5","1e697584bfe7e0b7","6dffa4232a7ec9a9"],"x":1981,"y":857.1666030883789,"w":340.92850494384766,"h":778.9047713279724},{"id":"f75f3dfd9421f0f1","type":"group","z":"3afa3b2ec00a5e3d","name":"Message generator","style":{"label":true},"nodes":["5ee386c316c97c98","d4f0e1e9a072564c","c21afac904cde5e5","6c8fa72eb01d983a","ca381bfca1c3a6a8","397ff5c6eab3be66"],"x":100,"y":64.41222381591797,"w":766.3333740234375,"h":299.08252716064453},{"id":"f819a208c9a9e301","type":"group","z":"3afa3b2ec00a5e3d","name":"supervisor restarter","style":{"label":true},"nodes":["e7ea5b5137caea30","b876a72386d90b15","c9794e21debc9042","1a14a3c9d29e9969","42d44efed110f119"],"x":1329,"y":124.41150665283203,"w":804.833251953125,"h":97},{"id":"43aa4576cc0449fd","type":"junction","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","x":587.2502408027649,"y":1498.25,"wires":[["23d96d3b8391cef5","40091b993841f325","54a9791650cb61b7"]]},{"id":"74c3ab0399dc06e2","type":"junction","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","x":985.9489097595215,"y":1498.625,"wires":[["92ec6d9f3d879580","0bd18da85d825d6f","b50a8242b41ae0c6"]]},{"id":"0d8e15cfb25a1343","type":"junction","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","x":1585.9489097595215,"y":1497.625,"wires":[["38c20f8cb95a4965","4c545d0296232dbb","e51d981260fcda5f"]]},{"id":"1e697584bfe7e0b7","type":"junction","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","x":2085.9489097595215,"y":1498.625,"wires":[["8123a9952db0b131","3fe75266b20c7d3f","9d89f7d1f2181a14"]]},{"id":"5ee386c316c97c98","type":"inject","z":"3afa3b2ec00a5e3d","g":"f75f3dfd9421f0f1","name":"Start Button","props":[{"p":"payload"},{"p":"msgcnt","v":"0","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":274.0000305175781,"y":105.41222381591797,"wires":[["d4f0e1e9a072564c"]]},{"id":"d4f0e1e9a072564c","type":"change","z":"3afa3b2ec00a5e3d","g":"f75f3dfd9421f0f1","name":"","rules":[{"p":"payload","pt":"msg","t":"set","to":"","tot":"date"},{"p":"msgcnt","pt":"msg","t":"set","to":"$$.msgcnt + 1","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":524.3333740234375,"y":211.1197509765625,"wires":[["c21afac904cde5e5","6c8fa72eb01d983a","ca381bfca1c3a6a8"]]},{"id":"c21afac904cde5e5","type":"delay","z":"3afa3b2ec00a5e3d","g":"f75f3dfd9421f0f1","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"allowrate":false,"outputs":1,"x":770.3333740234375,"y":322.4947509765625,"wires":[["397ff5c6eab3be66"]]},{"id":"6c8fa72eb01d983a","type":"debug","z":"3afa3b2ec00a5e3d","g":"f75f3dfd9421f0f1","name":"debug 2","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":760.3333740234375,"y":105.41222381591797,"wires":[]},{"id":"e7ea5b5137caea30","type":"switch","z":"3afa3b2ec00a5e3d","g":"f819a208c9a9e301","name":"what status?","property":"status","propertyType":"msg","rules":[{"t":"eq","v":"dead","vt":"str"},{"t":"eq","v":"started","vt":"str"},{"t":"eq","v":"restarted","vt":"str"}],"checkall":"false","repair":false,"outputs":3,"x":1522.166748046875,"y":172.91150665283203,"wires":[["b876a72386d90b15"],[],[]]},{"id":"b876a72386d90b15","type":"delay","z":"3afa3b2ec00a5e3d","g":"f819a208c9a9e301","name":"","pauseType":"random","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"7","randomUnits":"milliseconds","drop":false,"allowrate":false,"outputs":1,"x":1726.0953922271729,"y":172.91150665283203,"wires":[["c9794e21debc9042"]]},{"id":"c9794e21debc9042","type":"change","z":"3afa3b2ec00a5e3d","g":"f819a208c9a9e301","name":"","rules":[{"p":"action","pt":"msg","t":"set","to":"restart","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1917.547607421875,"y":172.91150665283203,"wires":[["42d44efed110f119"]]},{"id":"4ae02f63f450c6f9","type":"erlsupervisor","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"rest for one","scope":["23d96d3b8391cef5","40091b993841f325","54a9791650cb61b7"],"supervisor_type":"static","strategy":"rest_for_one","auto_shutdown":"never","intensity":"150","period":"30","child_type":"worker","child_restart":"permanent","child_shutdown":"brutal_kill","child_shutdown_timeout":"","x":643.5,"y":1015.5,"wires":[["d52aac5750f2bb0c"]]},{"id":"40091b993841f325","type":"function","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"exit call","func":"exit(self(), failure)","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":718.5,"y":1498.25,"wires":[[]]},{"id":"54a9791650cb61b7","type":"debug","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"debug 1","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":713.5000839233398,"y":1595.0713744163513,"wires":[]},{"id":"23d96d3b8391cef5","type":"debug","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"debug 3","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":715.9285049438477,"y":1407.0104055404663,"wires":[]},{"id":"d52aac5750f2bb0c","type":"change","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"","rules":[{"p":"supervisor","pt":"msg","t":"set","to":"one","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":672.5000076293945,"y":1085.343686580658,"wires":[["7cdde8314f6355d7"]]},{"id":"f0ee2b3e4781eb6f","type":"switch","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"","property":"supervisor","propertyType":"msg","rules":[{"t":"eq","v":"one","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":645.8333625793457,"y":955.3436636924744,"wires":[["4ae02f63f450c6f9"]]},{"id":"d429c9c28047ef4c","type":"erlsupervisor","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"rest for one","scope":["b50a8242b41ae0c6","0bd18da85d825d6f","92ec6d9f3d879580"],"supervisor_type":"static","strategy":"rest_for_one","auto_shutdown":"never","intensity":"150","period":"30","child_type":"worker","child_restart":"permanent","child_shutdown":"brutal_kill","child_shutdown_timeout":"","x":1043.5,"y":1015.5,"wires":[["ee2f23c2b6fee4f8"]]},{"id":"0bd18da85d825d6f","type":"function","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"exit call","func":"exit(self(), failure)","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1118.5,"y":1498.625,"wires":[[]]},{"id":"b50a8242b41ae0c6","type":"debug","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"debug 4","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":1113.5000839233398,"y":1595.0713744163513,"wires":[]},{"id":"92ec6d9f3d879580","type":"debug","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"debug 5","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":1115.9285049438477,"y":1407.0104055404663,"wires":[]},{"id":"ee2f23c2b6fee4f8","type":"change","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"","rules":[{"p":"supervisor","pt":"msg","t":"set","to":"two","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1072.5000076293945,"y":1085.343686580658,"wires":[["46f646d7334123c2"]]},{"id":"2080a6ce08b2c7de","type":"switch","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"","property":"supervisor","propertyType":"msg","rules":[{"t":"eq","v":"two","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1045.8333625793457,"y":955.3436636924744,"wires":[["d429c9c28047ef4c"]]},{"id":"f38f641b0fe0202f","type":"link in","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"sup one","links":["42d44efed110f119"],"x":642.8333187103271,"y":897.010320186615,"wires":[["f0ee2b3e4781eb6f"]]},{"id":"7cdde8314f6355d7","type":"link out","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"link out 1","mode":"link","links":["1a14a3c9d29e9969"],"x":649.5,"y":1150.3436821301777,"wires":[]},{"id":"cd3028c339baf502","type":"link in","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"sup two","links":["42d44efed110f119"],"x":1051.833324432373,"y":897.1666030883789,"wires":[["2080a6ce08b2c7de"]]},{"id":"46f646d7334123c2","type":"link out","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"link out 3","mode":"link","links":["1a14a3c9d29e9969"],"x":1073.5,"y":1148.8333129882812,"wires":[]},{"id":"1a14a3c9d29e9969","type":"link in","z":"3afa3b2ec00a5e3d","g":"f819a208c9a9e301","name":"undertaker","links":["46f646d7334123c2","7cdde8314f6355d7","29471e95423b991b","3dd04914baf158a5"],"x":1370,"y":172.91150665283203,"wires":[["e7ea5b5137caea30"]]},{"id":"61de32d2e9fdd19f","type":"erlsupervisor","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"one for one","scope":["e51d981260fcda5f","4c545d0296232dbb","38c20f8cb95a4965"],"supervisor_type":"static","strategy":"one_for_one","auto_shutdown":"never","intensity":"150","period":"30","child_type":"worker","child_restart":"permanent","child_shutdown":"brutal_kill","child_shutdown_timeout":"","x":1643.5,"y":1015.5,"wires":[["aa1dbbcfff2809b7"]]},{"id":"4c545d0296232dbb","type":"function","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"exit call","func":"exit(self(), failure)","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1718.5,"y":1497.625,"wires":[[]]},{"id":"e51d981260fcda5f","type":"debug","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"debug 6","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":1713.5000839233398,"y":1595.0713744163513,"wires":[]},{"id":"38c20f8cb95a4965","type":"debug","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"debug 7","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":1715.9285049438477,"y":1407.0104055404663,"wires":[]},{"id":"aa1dbbcfff2809b7","type":"change","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"","rules":[{"p":"supervisor","pt":"msg","t":"set","to":"three","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1672.5000076293945,"y":1085.343686580658,"wires":[["29471e95423b991b"]]},{"id":"55a6ebecbdbb73e7","type":"switch","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"","property":"supervisor","propertyType":"msg","rules":[{"t":"eq","v":"three","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1645.8333625793457,"y":955.3436636924744,"wires":[["61de32d2e9fdd19f"]]},{"id":"c255165743dab74e","type":"link in","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"sup three","links":["42d44efed110f119"],"x":1651.833324432373,"y":897.1666030883789,"wires":[["55a6ebecbdbb73e7"]]},{"id":"29471e95423b991b","type":"link out","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"link out 4","mode":"link","links":["1a14a3c9d29e9969"],"x":1673.5,"y":1148.8333129882812,"wires":[]},{"id":"57e6cd2a05214926","type":"erlsupervisor","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"one for all","scope":["9d89f7d1f2181a14","3fe75266b20c7d3f","8123a9952db0b131"],"supervisor_type":"static","strategy":"one_for_all","auto_shutdown":"never","intensity":"150","period":"30","child_type":"worker","child_restart":"permanent","child_shutdown":"brutal_kill","child_shutdown_timeout":"","x":2125.5,"y":1016.5,"wires":[["0ab6b6e6cbe62b6a"]]},{"id":"3fe75266b20c7d3f","type":"function","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"exit call","func":"exit(self(), failure)","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2218.5,"y":1498.625,"wires":[[]]},{"id":"9d89f7d1f2181a14","type":"debug","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"debug 8","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2213.50008392334,"y":1595.0713744163513,"wires":[]},{"id":"8123a9952db0b131","type":"debug","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"debug 9","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2215.9285049438477,"y":1407.0104055404663,"wires":[]},{"id":"0ab6b6e6cbe62b6a","type":"change","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"","rules":[{"p":"supervisor","pt":"msg","t":"set","to":"four","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2164.5000076293945,"y":1086.343686580658,"wires":[["3dd04914baf158a5"]]},{"id":"e73de5dd8451e30b","type":"switch","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"","property":"supervisor","propertyType":"msg","rules":[{"t":"eq","v":"four","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":2137.8333625793457,"y":956.3436636924744,"wires":[["57e6cd2a05214926"]]},{"id":"dcfd4fec22f930eb","type":"link in","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"sup four","links":["42d44efed110f119"],"x":2143.833324432373,"y":898.1666030883789,"wires":[["e73de5dd8451e30b"]]},{"id":"3dd04914baf158a5","type":"link out","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"link out 5","mode":"link","links":["1a14a3c9d29e9969"],"x":2165.5,"y":1149.8333129882812,"wires":[]},{"id":"ca381bfca1c3a6a8","type":"link out","z":"3afa3b2ec00a5e3d","g":"f75f3dfd9421f0f1","name":"msg generator","mode":"link","links":["f032986923013ead","07a48d0ae3691dfd","7835bb0a66ce9604","6dffa4232a7ec9a9"],"x":715.3333740234375,"y":211.1197509765625,"wires":[]},{"id":"42d44efed110f119","type":"link out","z":"3afa3b2ec00a5e3d","g":"f819a208c9a9e301","name":"link out 2","mode":"link","links":["f38f641b0fe0202f","cd3028c339baf502","c255165743dab74e","dcfd4fec22f930eb"],"x":2092.833251953125,"y":172.91150665283203,"wires":[]},{"id":"f032986923013ead","type":"link in","z":"3afa3b2ec00a5e3d","g":"2936cc7950d10f77","name":"link in 1","links":["ca381bfca1c3a6a8"],"x":528,"y":1498.25,"wires":[["43aa4576cc0449fd"]]},{"id":"07a48d0ae3691dfd","type":"link in","z":"3afa3b2ec00a5e3d","g":"859955c795ba6c86","name":"link in 2","links":["ca381bfca1c3a6a8"],"x":923,"y":1498.625,"wires":[["74c3ab0399dc06e2"]]},{"id":"7835bb0a66ce9604","type":"link in","z":"3afa3b2ec00a5e3d","g":"34c704ff5c1978cf","name":"link in 3","links":["ca381bfca1c3a6a8"],"x":1527,"y":1497.625,"wires":[["0d8e15cfb25a1343"]]},{"id":"6dffa4232a7ec9a9","type":"link in","z":"3afa3b2ec00a5e3d","g":"fa67af97329dd415","name":"link in 4","links":["ca381bfca1c3a6a8"],"x":2022,"y":1498.625,"wires":[["1e697584bfe7e0b7"]]},{"id":"397ff5c6eab3be66","type":"switch","z":"3afa3b2ec00a5e3d","g":"f75f3dfd9421f0f1","name":"stop after 20k messages","property":"msgcnt","propertyType":"msg","rules":[{"t":"lt","v":"20000","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":236,"y":322.4947509765625,"wires":[["d4f0e1e9a072564c"]]}]