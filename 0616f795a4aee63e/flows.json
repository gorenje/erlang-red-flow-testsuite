[{"id":"0616f795a4aee63e","type":"tab","label":"[switch] working JSONata expression operator","disabled":false,"info":"## JSONata expression operator\n\nFrom the documentation:\n\n```\nA JSONata Expression can be provided that will be evaluated against the whole message and will match if the expression returns a true value.\n```\n\nSo the JSONata expression isn't matched to the value, rather it is independently evaluated and must be \"true\".","env":[]},{"id":"7b2ff55b624bab63","type":"switch","z":"0616f795a4aee63e","name":"check all tests","property":"$match($$.payload, /([0-9]+)([a-z]+)([0-9]+)([a-z]+)/,1).match","propertyType":"jsonata","rules":[{"t":"eq","v":"1a2b","vt":"str"},{"t":"eq","v":"\"1\" & \"a\" & \"2\" & \"b\"","vt":"jsonata"},{"t":"true"},{"t":"false"},{"t":"null"},{"t":"empty"},{"t":"nempty"},{"t":"jsonata_exp","v":"$not($not($match($$.payload, /([0-9]+)([a-z]+)([0-9]+)([a-z]+)/,1).match))","vt":"jsonata"},{"t":"nnull"},{"t":"eq","v":"$match($$.payload, /([0-9]+)([a-z]+)([0-9]+)([a-z]+)/,1).match","vt":"jsonata"}],"checkall":"true","repair":false,"outputs":10,"x":1177.1429443359375,"y":857.1428833007812,"wires":[["55d320dfa24df906"],["a08754bfaa13fd5e"],["a6277f760cc8d172"],["40843133c4c3af77"],["dc8df12172b71817"],["81a5c6e674791b89"],["4a1ec4d64791c881"],["63ac80803f5e8cb7"],["6f412a90d907aa81"],["72f30e6f13890db4"]]},{"id":"79f038dd2f630094","type":"inject","z":"0616f795a4aee63e","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"1a2b3c","payloadType":"str","x":888.1429443359375,"y":644.1428833007812,"wires":[["7b2ff55b624bab63","bf1d2302c227bea5"]]},{"id":"a6277f760cc8d172","type":"ut-assert-failure","z":"0616f795a4aee63e","name":"","x":1497.142936706543,"y":719.6428527832031,"wires":[]},{"id":"40843133c4c3af77","type":"ut-assert-failure","z":"0616f795a4aee63e","name":"","x":1497.142936706543,"y":784.4642791748047,"wires":[]},{"id":"81a5c6e674791b89","type":"ut-assert-failure","z":"0616f795a4aee63e","name":"","x":1497.142936706543,"y":914.1071319580078,"wires":[]},{"id":"bf1d2302c227bea5","type":"change","z":"0616f795a4aee63e","name":"","rules":[{"t":"set","p":"value","pt":"msg","to":"$match($$.payload, /([0-9]+)([a-z]+)([0-9]+)([a-z]+)/,1).match","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1177.1429443359375,"y":458.5714416503906,"wires":[["0ce56b7fd4af2f76"]]},{"id":"a08754bfaa13fd5e","type":"ut-assert-success","z":"0616f795a4aee63e","name":"","count":1,"x":1497.142936706543,"y":654.8214263916016,"wires":[]},{"id":"55d320dfa24df906","type":"ut-assert-success","z":"0616f795a4aee63e","name":"","count":1,"x":1497.142936706543,"y":590,"wires":[]},{"id":"4a1ec4d64791c881","type":"ut-assert-success","z":"0616f795a4aee63e","name":"","count":1,"x":1497.142936706543,"y":978.9285583496094,"wires":[]},{"id":"6f412a90d907aa81","type":"ut-assert-success","z":"0616f795a4aee63e","name":"","count":1,"x":1497.142936706543,"y":1108.5714111328125,"wires":[]},{"id":"63ac80803f5e8cb7","type":"ut-assert-success","z":"0616f795a4aee63e","name":"","count":1,"x":1497.142936706543,"y":1043.749984741211,"wires":[]},{"id":"dc8df12172b71817","type":"ut-assert-failure","z":"0616f795a4aee63e","name":"","x":1497.142936706543,"y":849.2857055664062,"wires":[]},{"id":"0ce56b7fd4af2f76","type":"ut-assert-values","z":"0616f795a4aee63e","name":"","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"value","pt":"msg","to":"1a2b","tot":"str"}],"x":1507.142936706543,"y":458.5714416503906,"wires":[[]]},{"id":"72f30e6f13890db4","type":"ut-assert-success","z":"0616f795a4aee63e","name":"","count":1,"x":1498.571533203125,"y":1164.2857666015625,"wires":[]}]