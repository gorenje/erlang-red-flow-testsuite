[{"id":"84a5a362cafe703f","type":"tab","label":"[tcp] request node - stream of strings","disabled":false,"info":"## Tcp request connects\n\nA tcp request node configured with output as being string and close after zero milliseconds.\n\nA tcp-in node configured with output as being stream of strings, i.e., immediate messages.\n\n## Setup\n\n<a class=\"ahl-node-only\" data-ids=\"dd1bac35bd0e45e7\">Tcp in node</a> is connected to a <a class=\"ahl-node-only\" data-ids=\"e9e955392ca8e236\">tcp out node</a> in reply mode. The <a class=\"ahl-node-only\" data-ids=\"de4c09457d483149\">change node</a> sets the payload to 'ok'.\n\n<a class=\"ahl-node-only\" data-ids=\"af248c4d80ff41d9\">Tcp request</a> node connects and sends a single message to the tcp in node that replies with a response of 'ok' via the tcp out node.\n\nTcp request node is configured to be \"close after timeout\" of zero milliseconds.\n\n## Test\n\nThe <a class=\"ahl-node-only\" data-ids=\"ac9c6e92435707a1\">inject</a> nodes sends a timestamp to the tcp request node that is sent to the tcp in node. The message is sent to the change node which alters the payload to be 'ok'.\n\nThe <a class=\"ahl-node-only\" data-ids=\"95ce59b90514634a\">assert values</a> node checks for the ok string.","env":[{"name":"ERED_PENDING","value":"true","type":"bool"}]},{"id":"dd1bac35bd0e45e7","type":"tcp in","z":"84a5a362cafe703f","name":"","server":"server","host":"","port":"1101","datamode":"stream","datatype":"utf8","newline":"","topic":"","trim":false,"base64":false,"tls":"","x":487,"y":778.5,"wires":[["de4c09457d483149"]]},{"id":"e9e955392ca8e236","type":"tcp out","z":"84a5a362cafe703f","name":"","host":"","port":"","beserver":"reply","base64":false,"end":false,"tls":"","x":1030,"y":484,"wires":[]},{"id":"de4c09457d483149","type":"change","z":"84a5a362cafe703f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"ok","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":768.9166870117188,"y":631.25,"wires":[["e9e955392ca8e236"]]},{"id":"af248c4d80ff41d9","type":"tcp request","z":"84a5a362cafe703f","name":"","server":"localhost","port":"1101","out":"time","ret":"string","splitc":"0","newline":"","trim":false,"tls":"","x":768.9166870117188,"y":939.4166870117188,"wires":[["95ce59b90514634a"]]},{"id":"ac9c6e92435707a1","type":"inject","z":"84a5a362cafe703f","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":365.666748046875,"y":939.4166870117188,"wires":[["af248c4d80ff41d9"]]},{"id":"95ce59b90514634a","type":"ut-assert-values","z":"84a5a362cafe703f","name":"","ignore_failure_if_succeed":false,"rules":[{"t":"eql","p":"payload","pt":"msg","to":"ok","tot":"str"}],"x":1208,"y":939.4166870117188,"wires":[[]]}]